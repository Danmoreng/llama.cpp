import{g as Ie,i as ao,j as un,B as He,a0 as Zi,G as es,H as ts,I as ua,J as xr,K as Dt,q as _t,av as rs,aw as ns,l as Qt,n as os,m as Ht,ax as Ra,ay as ja,k as ko,T as as,az as da,aA as fa,L as Co,u as Ka,aB as dn,aC as Hn,aD as Xt,aE as fn,aF as is,aG as ss,aH as ls,aI as cs,aJ as us,a3 as Na,aK as za,aL as Da,O as ds,aM as fs,aN as hs,E as ps,aO as ms,aP as gs,aQ as vs,aR as ha,M as Ba,aS as ys,aT as bs,P as ws,aU as xs,aV as _s,aW as ks,aX as Cs,ar as As,aY as Ss,aZ as Ps,a_ as Es,a$ as Os,b0 as Ms,b1 as Is,b2 as Ts,b3 as Rs,b4 as js,b5 as qa,N as Fa,b6 as Ks,z as Ns,p as Ao,ai as nn,a as on,b as Bt,d as So,f as La,c as io,aq as an,R as sn,r as so,b7 as zs,s as Ds,aj as Bs,b8 as qs,ag as ut,a1 as pa,X as dt}from"./DHa_N7rM.js";import"./DsnmJJEf.js";import{p as et,i as Fs,r as Po,b as lo}from"./Dn_KYLer.js";import{g as ma}from"./CR1FXvTD.js";function Ls(n,i){return i}function Gs(n,i,l){for(var c=n.items,p=[],h=i.length,y=0;y<h;y++)ls(i[y].e,p,!0);var S=h>0&&p.length===0&&l!==null;if(S){var A=l.parentNode;cs(A),A.append(l),c.clear(),ot(n,i[0].prev,i[h-1].next)}us(p,()=>{for(var I=0;I<h;I++){var z=i[I];S||(c.delete(z.k),ot(n,z.prev,z.next)),Xt(z.e,!S)}})}function Vs(n,i,l,c,p,h=null){var y=n,S={flags:i,items:new Map,first:null},A=(i&Da)!==0;if(A){var I=n;y=Ie?xr(za(I)):I.appendChild(ko())}Ie&&ao();var z=null,B=!1,G=new Map,ce=Zi(()=>{var oe=l();return ja(oe)?oe:oe==null?[]:Ra(oe)}),R,j;function Z(){$s(j,R,S,G,y,p,i,c,l),h!==null&&(R.length===0?z?Co(z):z=Qt(()=>h(y)):z!==null&&Ka(z,()=>{z=null}))}un(()=>{j??=Na,R=He(ce);var oe=R.length;if(B&&oe===0)return;B=oe===0;let ne=!1;if(Ie){var se=es(y)===ts;se!==(oe===0)&&(y=ua(),xr(y),Dt(!1),ne=!0)}if(Ie){for(var ae=null,de,M=0;M<oe;M++){if(_t.nodeType===rs&&_t.data===ns){y=_t,ne=!0,Dt(!1);break}var L=R[M],W=c(L,M);de=co(_t,S,ae,null,L,W,M,p,i,l),S.items.set(W,de),ae=de}oe>0&&xr(ua())}if(Ie)oe===0&&h&&(z=Qt(()=>h(y)));else if(os()){var Pe=new Set,Le=Ht;for(M=0;M<oe;M+=1){L=R[M],W=c(L,M);var Ne=S.items.get(W)??G.get(W);Ne?(i&(fn|dn))!==0&&Ga(Ne,L,M,i):(de=co(null,S,null,null,L,W,M,p,i,l,!0),G.set(W,de)),Pe.add(W)}for(const[ee,ie]of S.items)Pe.has(ee)||Le.skipped_effects.add(ie.e);Le.add_callback(Z)}else Z();ne&&Dt(!0),He(ce)}),Ie&&(y=_t)}function $s(n,i,l,c,p,h,y,S,A){var I=(y&fs)!==0,z=(y&(fn|dn))!==0,B=i.length,G=l.items,ce=l.first,R=ce,j,Z=null,oe,ne=[],se=[],ae,de,M,L;if(I)for(L=0;L<B;L+=1)ae=i[L],de=S(ae,L),M=G.get(de),M!==void 0&&(M.a?.measure(),(oe??=new Set).add(M));for(L=0;L<B;L+=1){if(ae=i[L],de=S(ae,L),M=G.get(de),M===void 0){var W=c.get(de);if(W!==void 0){c.delete(de),G.set(de,W);var Pe=Z?Z.next:R;ot(l,Z,W),ot(l,W,Pe),Qn(W,Pe,p),Z=W}else{var Le=R?R.e.nodes_start:p;Z=co(Le,l,Z,Z===null?l.first:Z.next,ae,de,L,h,y,A)}G.set(de,Z),ne=[],se=[],R=Z.next;continue}if(z&&Ga(M,ae,L,y),(M.e.f&Hn)!==0&&(Co(M.e),I&&(M.a?.unfix(),(oe??=new Set).delete(M))),M!==R){if(j!==void 0&&j.has(M)){if(ne.length<se.length){var Ne=se[0],ee;Z=Ne.prev;var ie=ne[0],le=ne[ne.length-1];for(ee=0;ee<ne.length;ee+=1)Qn(ne[ee],Ne,p);for(ee=0;ee<se.length;ee+=1)j.delete(se[ee]);ot(l,ie.prev,le.next),ot(l,Z,ie),ot(l,le,Ne),R=Ne,Z=le,L-=1,ne=[],se=[]}else j.delete(M),Qn(M,R,p),ot(l,M.prev,M.next),ot(l,M,Z===null?l.first:Z.next),ot(l,Z,M),Z=M;continue}for(ne=[],se=[];R!==null&&R.k!==de;)(R.e.f&Hn)===0&&(j??=new Set).add(R),se.push(R),R=R.next;if(R===null)continue;M=R}ne.push(M),Z=M,R=M.next}if(R!==null||j!==void 0){for(var ue=j===void 0?[]:Ra(j);R!==null;)(R.e.f&Hn)===0&&ue.push(R),R=R.next;var $=ue.length;if($>0){var me=(y&Da)!==0&&B===0?p:null;if(I){for(L=0;L<$;L+=1)ue[L].a?.measure();for(L=0;L<$;L+=1)ue[L].a?.fix()}Gs(l,ue,me)}}I&&ds(()=>{if(oe!==void 0)for(M of oe)M.a?.apply()}),n.first=l.first&&l.first.e,n.last=Z&&Z.e;for(var T of c.values())Xt(T.e);c.clear()}function Ga(n,i,l,c){(c&fn)!==0&&fa(n.v,i),(c&dn)!==0?fa(n.i,l):n.i=l}function co(n,i,l,c,p,h,y,S,A,I,z){var B=(A&fn)!==0,G=(A&is)===0,ce=B?G?as(p,!1,!1):da(p):p,R=(A&dn)===0?y:da(y),j={i:R,v:ce,k:h,a:null,e:null,prev:l,next:c};try{if(n===null){var Z=document.createDocumentFragment();Z.append(n=ko())}return j.e=Qt(()=>S(n,ce,R,I),Ie),j.e.prev=l&&l.e,j.e.next=c&&c.e,l===null?z||(i.first=j):(l.next=j,l.e.next=j.e),c!==null&&(c.prev=j,c.e.prev=j.e),j}finally{}}function Qn(n,i,l){for(var c=n.next?n.next.e.nodes_start:l,p=i?i.e.nodes_start:l,h=n.e.nodes_start;h!==null&&h!==c;){var y=ss(h);p.before(h),h=y}}function ot(n,i,l){i===null?n.first=l:(i.next=l,i.e.next=l&&l.e),l!==null&&(l.prev=i,l.e.prev=i&&i.e)}function Va(n,i,l,c,p,h){let y=Ie;Ie&&ao();var S,A,I=null;Ie&&_t.nodeType===hs&&(I=_t,ao());var z=Ie?_t:n,B;un(()=>{const G=i()||null;var ce=l||G==="svg"?ms:null;G!==S&&(B&&(G===null?Ka(B,()=>{B=null,A=null}):G===A?Co(B):(Xt(B),ha(!1))),G&&G!==A&&(B=Qt(()=>{if(I=Ie?I:ce?document.createElementNS(ce,G):document.createElement(G),gs(I,I),c){Ie&&vs(G)&&I.append(document.createComment(""));var R=Ie?za(I):I.appendChild(ko());Ie&&(R===null?Dt(!1):xr(R)),c(I,R)}Na.nodes_end=I,z.before(I)})),S=G,S&&(A=S),ha(!0))},ps),y&&(Dt(!0),xr(z))}function Us(n,i){var l=void 0,c;un(()=>{l!==(l=i())&&(c&&(Xt(c),c=null),l&&(c=Qt(()=>{Ba(()=>l(n))})))})}function $a(n){var i,l,c="";if(typeof n=="string"||typeof n=="number")c+=n;else if(typeof n=="object")if(Array.isArray(n)){var p=n.length;for(i=0;i<p;i++)n[i]&&(l=$a(n[i]))&&(c&&(c+=" "),c+=l)}else for(l in n)n[l]&&(c&&(c+=" "),c+=l);return c}function Ua(){for(var n,i,l=0,c="",p=arguments.length;l<p;l++)(n=arguments[l])&&(i=$a(n))&&(c&&(c+=" "),c+=i);return c}function Ws(n){return typeof n=="object"?Ua(n):n??""}const ga=[...` 	
\r\fÂ \v\uFEFF`];function Ys(n,i,l){var c=n==null?"":""+n;if(i&&(c=c?c+" "+i:i),l){for(var p in l)if(l[p])c=c?c+" "+p:p;else if(c.length)for(var h=p.length,y=0;(y=c.indexOf(p,y))>=0;){var S=y+h;(y===0||ga.includes(c[y-1]))&&(S===c.length||ga.includes(c[S]))?c=(y===0?"":c.substring(0,y))+c.substring(S+1):y=S}}return c===""?null:c}function va(n,i=!1){var l=i?" !important;":";",c="";for(var p in n){var h=n[p];h!=null&&h!==""&&(c+=" "+p+": "+h+l)}return c}function Xn(n){return n[0]!=="-"||n[1]!=="-"?n.toLowerCase():n}function Hs(n,i){if(i){var l="",c,p;if(Array.isArray(i)?(c=i[0],p=i[1]):c=i,n){n=String(n).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var h=!1,y=0,S=!1,A=[];c&&A.push(...Object.keys(c).map(Xn)),p&&A.push(...Object.keys(p).map(Xn));var I=0,z=-1;const j=n.length;for(var B=0;B<j;B++){var G=n[B];if(S?G==="/"&&n[B-1]==="*"&&(S=!1):h?h===G&&(h=!1):G==="/"&&n[B+1]==="*"?S=!0:G==='"'||G==="'"?h=G:G==="("?y++:G===")"&&y--,!S&&h===!1&&y===0){if(G===":"&&z===-1)z=B;else if(G===";"||B===j-1){if(z!==-1){var ce=Xn(n.substring(I,z).trim());if(!A.includes(ce)){G!==";"&&B++;var R=n.substring(I,B).trim();l+=" "+R+";"}}I=B+1,z=-1}}}}return c&&(l+=va(c)),p&&(l+=va(p,!0)),l=l.trim(),l===""?null:l}return n==null?null:String(n)}function Qs(n,i,l,c,p,h){var y=n.__className;if(Ie||y!==l||y===void 0){var S=Ys(l,c,h);(!Ie||S!==n.getAttribute("class"))&&(S==null?n.removeAttribute("class"):i?n.className=S:n.setAttribute("class",S)),n.__className=l}else if(h&&p!==h)for(var A in h){var I=!!h[A];(p==null||I!==!!p[A])&&n.classList.toggle(A,I)}return h}function Jn(n,i={},l,c){for(var p in l){var h=l[p];i[p]!==h&&(l[p]==null?n.style.removeProperty(p):n.style.setProperty(p,h,c))}}function Xs(n,i,l,c){var p=n.__style;if(Ie||p!==i){var h=Hs(i,c);(!Ie||h!==n.getAttribute("style"))&&(h==null?n.removeAttribute("style"):n.style.cssText=h),n.__style=i}else c&&(Array.isArray(c)?(Jn(n,l?.[0],c[0]),Jn(n,l?.[1],c[1],"important")):Jn(n,l,c));return c}function uo(n,i,l=!1){if(n.multiple){if(i==null)return;if(!ja(i))return ys();for(var c of n.options)c.selected=i.includes(ya(c));return}for(c of n.options){var p=ya(c);if(bs(p,i)){c.selected=!0;return}}(!l||i!==void 0)&&(n.selectedIndex=-1)}function Js(n){var i=new MutationObserver(()=>{uo(n,n.__value)});i.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ws(()=>{i.disconnect()})}function ya(n){return"__value"in n?n.__value:n.value}const gr=Symbol("class"),vr=Symbol("style"),Wa=Symbol("is custom element"),Ya=Symbol("is html");function Fc(n){if(Ie){var i=!1,l=()=>{if(!i){if(i=!0,n.hasAttribute("value")){var c=n.value;ln(n,"value",null),n.value=c}if(n.hasAttribute("checked")){var p=n.checked;ln(n,"checked",null),n.checked=p}}};n.__on_r=l,Es(l),Os()}}function Zs(n,i){i?n.hasAttribute("selected")||n.setAttribute("selected",""):n.removeAttribute("selected")}function ln(n,i,l,c){var p=Ha(n);Ie&&(p[i]=n.getAttribute(i),i==="src"||i==="srcset"||i==="href"&&n.nodeName==="LINK")||p[i]!==(p[i]=l)&&(i==="loading"&&(n[Ts]=l),l==null?n.removeAttribute(i):typeof l!="string"&&Qa(n).includes(i)?n[i]=l:n.setAttribute(i,l))}function el(n,i,l,c,p=!1){var h=Ha(n),y=h[Wa],S=!h[Ya];let A=Ie&&y;A&&Dt(!1);var I=i||{},z=n.tagName==="OPTION";for(var B in i)B in l||(l[B]=null);l.class?l.class=Ws(l.class):(c||l[gr])&&(l.class=null),l[vr]&&(l.style??=null);var G=Qa(n);for(const se in l){let ae=l[se];if(z&&se==="value"&&ae==null){n.value=n.__value="",I[se]=ae;continue}if(se==="class"){var ce=n.namespaceURI==="http://www.w3.org/1999/xhtml";Qs(n,ce,ae,c,i?.[gr],l[gr]),I[se]=ae,I[gr]=l[gr];continue}if(se==="style"){Xs(n,ae,i?.[vr],l[vr]),I[se]=ae,I[vr]=l[vr];continue}var R=I[se];if(!(ae===R&&!(ae===void 0&&n.hasAttribute(se)))){I[se]=ae;var j=se[0]+se[1];if(j!=="$$")if(j==="on"){const de={},M="$$"+se;let L=se.slice(2);var Z=Rs(L);if(ks(L)&&(L=L.slice(0,-7),de.capture=!0),!Z&&R){if(ae!=null)continue;n.removeEventListener(L,I[M],de),I[M]=null}if(ae!=null)if(Z)n[`__${L}`]=ae,As([L]);else{let W=function(Pe){I[se].call(this,Pe)};I[M]=Cs(L,n,W,de)}else Z&&(n[`__${L}`]=void 0)}else if(se==="style")ln(n,se,ae);else if(se==="autofocus")Ss(n,!!ae);else if(!y&&(se==="__value"||se==="value"&&ae!=null))n.value=n.__value=ae;else if(se==="selected"&&z)Zs(n,ae);else{var oe=se;S||(oe=Ps(oe));var ne=oe==="defaultValue"||oe==="defaultChecked";if(ae==null&&!y&&!ne)if(h[se]=null,oe==="value"||oe==="checked"){let de=n;const M=i===void 0;if(oe==="value"){let L=de.defaultValue;de.removeAttribute(oe),de.defaultValue=L,de.value=de.__value=M?L:null}else{let L=de.defaultChecked;de.removeAttribute(oe),de.defaultChecked=L,de.checked=M?L:!1}}else n.removeAttribute(se);else ne||G.includes(oe)&&(y||typeof ae!="string")?n[oe]=ae:typeof ae!="function"&&ln(n,oe,ae)}}}return A&&Dt(!0),I}function _r(n,i,l=[],c=[],p,h=!1){xs(l,c,y=>{var S=void 0,A={},I=n.nodeName==="SELECT",z=!1;if(un(()=>{var G=i(...y.map(He)),ce=el(n,S,G,p,h);z&&I&&"value"in G&&uo(n,G.value);for(let j of Object.getOwnPropertySymbols(A))G[j]||Xt(A[j]);for(let j of Object.getOwnPropertySymbols(G)){var R=G[j];j.description===_s&&(!S||R!==S[j])&&(A[j]&&Xt(A[j]),A[j]=Qt(()=>Us(n,()=>R))),ce[j]=R}S=ce}),I){var B=n;Ba(()=>{uo(B,S.value,!0),Js(B)})}z=!0})}function Ha(n){return n.__attributes??={[Wa]:n.nodeName.includes("-"),[Ya]:n.namespaceURI===Ms}}var ba=new Map;function Qa(n){var i=ba.get(n.nodeName);if(i)return i;ba.set(n.nodeName,i=[]);for(var l,c=n,p=Element.prototype;p!==c;){l=js(c);for(var h in l)l[h].set&&i.push(h);c=Is(c)}return i}function Lc(n,i,l=i){var c=Ks(),p=new WeakSet;qa(n,"input",h=>{var y=h?n.defaultValue:n.value;if(y=Zn(n)?eo(y):y,l(y),Ht!==null&&p.add(Ht),c&&y!==(y=i())){var S=n.selectionStart,A=n.selectionEnd;n.value=y??"",A!==null&&(n.selectionStart=S,n.selectionEnd=Math.min(A,n.value.length))}}),(Ie&&n.defaultValue!==n.value||Ns(i)==null&&n.value)&&(l(Zn(n)?eo(n.value):n.value),Ht!==null&&p.add(Ht)),Fa(()=>{var h=i();n===document.activeElement&&p.has(Ht)||Zn(n)&&h===eo(n.value)||n.type==="date"&&!h&&!n.value||h!==n.value&&(n.value=h??"")})}function Zn(n){var i=n.type;return i==="number"||i==="range"}function eo(n){return n===""?null:+n}function Gc(n,i,l=i){qa(n,"change",()=>{l(n.files)}),Ie&&n.files&&l(n.files),Fa(()=>{n.files=i()})}var tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rl(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}const Eo="-",nl=n=>{const i=al(n),{conflictingClassGroups:l,conflictingClassGroupModifiers:c}=n;return{getClassGroupId:y=>{const S=y.split(Eo);return S[0]===""&&S.length!==1&&S.shift(),Xa(S,i)||ol(y)},getConflictingClassGroupIds:(y,S)=>{const A=l[y]||[];return S&&c[y]?[...A,...c[y]]:A}}},Xa=(n,i)=>{if(n.length===0)return i.classGroupId;const l=n[0],c=i.nextPart.get(l),p=c?Xa(n.slice(1),c):void 0;if(p)return p;if(i.validators.length===0)return;const h=n.join(Eo);return i.validators.find(({validator:y})=>y(h))?.classGroupId},wa=/^\[(.+)\]$/,ol=n=>{if(wa.test(n)){const i=wa.exec(n)[1],l=i?.substring(0,i.indexOf(":"));if(l)return"arbitrary.."+l}},al=n=>{const{theme:i,classGroups:l}=n,c={nextPart:new Map,validators:[]};for(const p in l)fo(l[p],c,p,i);return c},fo=(n,i,l,c)=>{n.forEach(p=>{if(typeof p=="string"){const h=p===""?i:xa(i,p);h.classGroupId=l;return}if(typeof p=="function"){if(il(p)){fo(p(c),i,l,c);return}i.validators.push({validator:p,classGroupId:l});return}Object.entries(p).forEach(([h,y])=>{fo(y,xa(i,h),l,c)})})},xa=(n,i)=>{let l=n;return i.split(Eo).forEach(c=>{l.nextPart.has(c)||l.nextPart.set(c,{nextPart:new Map,validators:[]}),l=l.nextPart.get(c)}),l},il=n=>n.isThemeGetter,sl=n=>{if(n<1)return{get:()=>{},set:()=>{}};let i=0,l=new Map,c=new Map;const p=(h,y)=>{l.set(h,y),i++,i>n&&(i=0,c=l,l=new Map)};return{get(h){let y=l.get(h);if(y!==void 0)return y;if((y=c.get(h))!==void 0)return p(h,y),y},set(h,y){l.has(h)?l.set(h,y):p(h,y)}}},ho="!",po=":",ll=po.length,cl=n=>{const{prefix:i,experimentalParseClassName:l}=n;let c=p=>{const h=[];let y=0,S=0,A=0,I;for(let R=0;R<p.length;R++){let j=p[R];if(y===0&&S===0){if(j===po){h.push(p.slice(A,R)),A=R+ll;continue}if(j==="/"){I=R;continue}}j==="["?y++:j==="]"?y--:j==="("?S++:j===")"&&S--}const z=h.length===0?p:p.substring(A),B=ul(z),G=B!==z,ce=I&&I>A?I-A:void 0;return{modifiers:h,hasImportantModifier:G,baseClassName:B,maybePostfixModifierPosition:ce}};if(i){const p=i+po,h=c;c=y=>y.startsWith(p)?h(y.substring(p.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:y,maybePostfixModifierPosition:void 0}}if(l){const p=c;c=h=>l({className:h,parseClassName:p})}return c},ul=n=>n.endsWith(ho)?n.substring(0,n.length-1):n.startsWith(ho)?n.substring(1):n,dl=n=>{const i=Object.fromEntries(n.orderSensitiveModifiers.map(c=>[c,!0]));return c=>{if(c.length<=1)return c;const p=[];let h=[];return c.forEach(y=>{y[0]==="["||i[y]?(p.push(...h.sort(),y),h=[]):h.push(y)}),p.push(...h.sort()),p}},fl=n=>({cache:sl(n.cacheSize),parseClassName:cl(n),sortModifiers:dl(n),...nl(n)}),hl=/\s+/,pl=(n,i)=>{const{parseClassName:l,getClassGroupId:c,getConflictingClassGroupIds:p,sortModifiers:h}=i,y=[],S=n.trim().split(hl);let A="";for(let I=S.length-1;I>=0;I-=1){const z=S[I],{isExternal:B,modifiers:G,hasImportantModifier:ce,baseClassName:R,maybePostfixModifierPosition:j}=l(z);if(B){A=z+(A.length>0?" "+A:A);continue}let Z=!!j,oe=c(Z?R.substring(0,j):R);if(!oe){if(!Z){A=z+(A.length>0?" "+A:A);continue}if(oe=c(R),!oe){A=z+(A.length>0?" "+A:A);continue}Z=!1}const ne=h(G).join(":"),se=ce?ne+ho:ne,ae=se+oe;if(y.includes(ae))continue;y.push(ae);const de=p(oe,Z);for(let M=0;M<de.length;++M){const L=de[M];y.push(se+L)}A=z+(A.length>0?" "+A:A)}return A};function ml(){let n=0,i,l,c="";for(;n<arguments.length;)(i=arguments[n++])&&(l=Ja(i))&&(c&&(c+=" "),c+=l);return c}const Ja=n=>{if(typeof n=="string")return n;let i,l="";for(let c=0;c<n.length;c++)n[c]&&(i=Ja(n[c]))&&(l&&(l+=" "),l+=i);return l};function gl(n,...i){let l,c,p,h=y;function y(A){const I=i.reduce((z,B)=>B(z),n());return l=fl(I),c=l.cache.get,p=l.cache.set,h=S,S(A)}function S(A){const I=c(A);if(I)return I;const z=pl(A,l);return p(A,z),z}return function(){return h(ml.apply(null,arguments))}}const Ke=n=>{const i=l=>l[n]||[];return i.isThemeGetter=!0,i},Za=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ei=/^\((?:(\w[\w-]*):)?(.+)\)$/i,vl=/^\d+\/\d+$/,yl=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bl=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wl=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,xl=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_l=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wt=n=>vl.test(n),ge=n=>!!n&&!Number.isNaN(Number(n)),wt=n=>!!n&&Number.isInteger(Number(n)),to=n=>n.endsWith("%")&&ge(n.slice(0,-1)),st=n=>yl.test(n),kl=()=>!0,Cl=n=>bl.test(n)&&!wl.test(n),ti=()=>!1,Al=n=>xl.test(n),Sl=n=>_l.test(n),Pl=n=>!H(n)&&!Q(n),El=n=>Jt(n,oi,ti),H=n=>Za.test(n),Kt=n=>Jt(n,ai,Cl),ro=n=>Jt(n,Rl,ge),_a=n=>Jt(n,ri,ti),Ol=n=>Jt(n,ni,Sl),Xr=n=>Jt(n,ii,Al),Q=n=>ei.test(n),yr=n=>Zt(n,ai),Ml=n=>Zt(n,jl),ka=n=>Zt(n,ri),Il=n=>Zt(n,oi),Tl=n=>Zt(n,ni),Jr=n=>Zt(n,ii,!0),Jt=(n,i,l)=>{const c=Za.exec(n);return c?c[1]?i(c[1]):l(c[2]):!1},Zt=(n,i,l=!1)=>{const c=ei.exec(n);return c?c[1]?i(c[1]):l:!1},ri=n=>n==="position"||n==="percentage",ni=n=>n==="image"||n==="url",oi=n=>n==="length"||n==="size"||n==="bg-size",ai=n=>n==="length",Rl=n=>n==="number",jl=n=>n==="family-name",ii=n=>n==="shadow",Kl=()=>{const n=Ke("color"),i=Ke("font"),l=Ke("text"),c=Ke("font-weight"),p=Ke("tracking"),h=Ke("leading"),y=Ke("breakpoint"),S=Ke("container"),A=Ke("spacing"),I=Ke("radius"),z=Ke("shadow"),B=Ke("inset-shadow"),G=Ke("text-shadow"),ce=Ke("drop-shadow"),R=Ke("blur"),j=Ke("perspective"),Z=Ke("aspect"),oe=Ke("ease"),ne=Ke("animate"),se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],de=()=>[...ae(),Q,H],M=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],W=()=>[Q,H,A],Pe=()=>[Wt,"full","auto",...W()],Le=()=>[wt,"none","subgrid",Q,H],Ne=()=>["auto",{span:["full",wt,Q,H]},wt,Q,H],ee=()=>[wt,"auto",Q,H],ie=()=>["auto","min","max","fr",Q,H],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ue=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...W()],me=()=>[Wt,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...W()],T=()=>[n,Q,H],fe=()=>[...ae(),ka,_a,{position:[Q,H]}],xe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Ge=()=>["auto","cover","contain",Il,El,{size:[Q,H]}],Te=()=>[to,yr,Kt],Ce=()=>["","none","full",I,Q,H],Ee=()=>["",ge,yr,Kt],ze=()=>["solid","dashed","dotted","double"],Ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ae=()=>[ge,to,ka,_a],Cr=()=>["","none",R,Q,H],te=()=>["none",ge,Q,H],kt=()=>["none",ge,Q,H],ft=()=>[ge,Q,H],_e=()=>[Wt,"full",...W()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[st],breakpoint:[st],color:[kl],container:[st],"drop-shadow":[st],ease:["in","out","in-out"],font:[Pl],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[st],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[st],shadow:[st],spacing:["px",ge],text:[st],"text-shadow":[st],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Wt,H,Q,Z]}],container:["container"],columns:[{columns:[ge,H,Q,S]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:de()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Pe()}],"inset-x":[{"inset-x":Pe()}],"inset-y":[{"inset-y":Pe()}],start:[{start:Pe()}],end:[{end:Pe()}],top:[{top:Pe()}],right:[{right:Pe()}],bottom:[{bottom:Pe()}],left:[{left:Pe()}],visibility:["visible","invisible","collapse"],z:[{z:[wt,"auto",Q,H]}],basis:[{basis:[Wt,"full","auto",S,...W()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ge,Wt,"auto","initial","none",H]}],grow:[{grow:["",ge,Q,H]}],shrink:[{shrink:["",ge,Q,H]}],order:[{order:[wt,"first","last","none",Q,H]}],"grid-cols":[{"grid-cols":Le()}],"col-start-end":[{col:Ne()}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":Le()}],"row-start-end":[{row:Ne()}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ie()}],"auto-rows":[{"auto-rows":ie()}],gap:[{gap:W()}],"gap-x":[{"gap-x":W()}],"gap-y":[{"gap-y":W()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...ue(),"normal"]}],"justify-self":[{"justify-self":["auto",...ue()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...ue(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ue(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...ue(),"baseline"]}],"place-self":[{"place-self":["auto",...ue()]}],p:[{p:W()}],px:[{px:W()}],py:[{py:W()}],ps:[{ps:W()}],pe:[{pe:W()}],pt:[{pt:W()}],pr:[{pr:W()}],pb:[{pb:W()}],pl:[{pl:W()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":W()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":W()}],"space-y-reverse":["space-y-reverse"],size:[{size:me()}],w:[{w:[S,"screen",...me()]}],"min-w":[{"min-w":[S,"screen","none",...me()]}],"max-w":[{"max-w":[S,"screen","none","prose",{screen:[y]},...me()]}],h:[{h:["screen","lh",...me()]}],"min-h":[{"min-h":["screen","lh","none",...me()]}],"max-h":[{"max-h":["screen","lh",...me()]}],"font-size":[{text:["base",l,yr,Kt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[c,Q,ro]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",to,H]}],"font-family":[{font:[Ml,H,i]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[p,Q,H]}],"line-clamp":[{"line-clamp":[ge,"none",Q,ro]}],leading:[{leading:[h,...W()]}],"list-image":[{"list-image":["none",Q,H]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Q,H]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ze(),"wavy"]}],"text-decoration-thickness":[{decoration:[ge,"from-font","auto",Q,Kt]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[ge,"auto",Q,H]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Q,H]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Q,H]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:fe()}],"bg-repeat":[{bg:xe()}],"bg-size":[{bg:Ge()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wt,Q,H],radial:["",Q,H],conic:[wt,Q,H]},Tl,Ol]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:Te()}],"gradient-via-pos":[{via:Te()}],"gradient-to-pos":[{to:Te()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:Ce()}],"rounded-s":[{"rounded-s":Ce()}],"rounded-e":[{"rounded-e":Ce()}],"rounded-t":[{"rounded-t":Ce()}],"rounded-r":[{"rounded-r":Ce()}],"rounded-b":[{"rounded-b":Ce()}],"rounded-l":[{"rounded-l":Ce()}],"rounded-ss":[{"rounded-ss":Ce()}],"rounded-se":[{"rounded-se":Ce()}],"rounded-ee":[{"rounded-ee":Ce()}],"rounded-es":[{"rounded-es":Ce()}],"rounded-tl":[{"rounded-tl":Ce()}],"rounded-tr":[{"rounded-tr":Ce()}],"rounded-br":[{"rounded-br":Ce()}],"rounded-bl":[{"rounded-bl":Ce()}],"border-w":[{border:Ee()}],"border-w-x":[{"border-x":Ee()}],"border-w-y":[{"border-y":Ee()}],"border-w-s":[{"border-s":Ee()}],"border-w-e":[{"border-e":Ee()}],"border-w-t":[{"border-t":Ee()}],"border-w-r":[{"border-r":Ee()}],"border-w-b":[{"border-b":Ee()}],"border-w-l":[{"border-l":Ee()}],"divide-x":[{"divide-x":Ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ze(),"hidden","none"]}],"divide-style":[{divide:[...ze(),"hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:[...ze(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ge,Q,H]}],"outline-w":[{outline:["",ge,yr,Kt]}],"outline-color":[{outline:T()}],shadow:[{shadow:["","none",z,Jr,Xr]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",B,Jr,Xr]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:Ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[ge,Kt]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":Ee()}],"inset-ring-color":[{"inset-ring":T()}],"text-shadow":[{"text-shadow":["none",G,Jr,Xr]}],"text-shadow-color":[{"text-shadow":T()}],opacity:[{opacity:[ge,Q,H]}],"mix-blend":[{"mix-blend":[...Ve(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ve()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ge]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ae()}],"mask-image-linear-from-color":[{"mask-linear-from":T()}],"mask-image-linear-to-color":[{"mask-linear-to":T()}],"mask-image-t-from-pos":[{"mask-t-from":Ae()}],"mask-image-t-to-pos":[{"mask-t-to":Ae()}],"mask-image-t-from-color":[{"mask-t-from":T()}],"mask-image-t-to-color":[{"mask-t-to":T()}],"mask-image-r-from-pos":[{"mask-r-from":Ae()}],"mask-image-r-to-pos":[{"mask-r-to":Ae()}],"mask-image-r-from-color":[{"mask-r-from":T()}],"mask-image-r-to-color":[{"mask-r-to":T()}],"mask-image-b-from-pos":[{"mask-b-from":Ae()}],"mask-image-b-to-pos":[{"mask-b-to":Ae()}],"mask-image-b-from-color":[{"mask-b-from":T()}],"mask-image-b-to-color":[{"mask-b-to":T()}],"mask-image-l-from-pos":[{"mask-l-from":Ae()}],"mask-image-l-to-pos":[{"mask-l-to":Ae()}],"mask-image-l-from-color":[{"mask-l-from":T()}],"mask-image-l-to-color":[{"mask-l-to":T()}],"mask-image-x-from-pos":[{"mask-x-from":Ae()}],"mask-image-x-to-pos":[{"mask-x-to":Ae()}],"mask-image-x-from-color":[{"mask-x-from":T()}],"mask-image-x-to-color":[{"mask-x-to":T()}],"mask-image-y-from-pos":[{"mask-y-from":Ae()}],"mask-image-y-to-pos":[{"mask-y-to":Ae()}],"mask-image-y-from-color":[{"mask-y-from":T()}],"mask-image-y-to-color":[{"mask-y-to":T()}],"mask-image-radial":[{"mask-radial":[Q,H]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ae()}],"mask-image-radial-from-color":[{"mask-radial-from":T()}],"mask-image-radial-to-color":[{"mask-radial-to":T()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ae()}],"mask-image-conic-pos":[{"mask-conic":[ge]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ae()}],"mask-image-conic-from-color":[{"mask-conic-from":T()}],"mask-image-conic-to-color":[{"mask-conic-to":T()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:fe()}],"mask-repeat":[{mask:xe()}],"mask-size":[{mask:Ge()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Q,H]}],filter:[{filter:["","none",Q,H]}],blur:[{blur:Cr()}],brightness:[{brightness:[ge,Q,H]}],contrast:[{contrast:[ge,Q,H]}],"drop-shadow":[{"drop-shadow":["","none",ce,Jr,Xr]}],"drop-shadow-color":[{"drop-shadow":T()}],grayscale:[{grayscale:["",ge,Q,H]}],"hue-rotate":[{"hue-rotate":[ge,Q,H]}],invert:[{invert:["",ge,Q,H]}],saturate:[{saturate:[ge,Q,H]}],sepia:[{sepia:["",ge,Q,H]}],"backdrop-filter":[{"backdrop-filter":["","none",Q,H]}],"backdrop-blur":[{"backdrop-blur":Cr()}],"backdrop-brightness":[{"backdrop-brightness":[ge,Q,H]}],"backdrop-contrast":[{"backdrop-contrast":[ge,Q,H]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ge,Q,H]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ge,Q,H]}],"backdrop-invert":[{"backdrop-invert":["",ge,Q,H]}],"backdrop-opacity":[{"backdrop-opacity":[ge,Q,H]}],"backdrop-saturate":[{"backdrop-saturate":[ge,Q,H]}],"backdrop-sepia":[{"backdrop-sepia":["",ge,Q,H]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":W()}],"border-spacing-x":[{"border-spacing-x":W()}],"border-spacing-y":[{"border-spacing-y":W()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Q,H]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ge,"initial",Q,H]}],ease:[{ease:["linear","initial",oe,Q,H]}],delay:[{delay:[ge,Q,H]}],animate:[{animate:["none",ne,Q,H]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Q,H]}],"perspective-origin":[{"perspective-origin":de()}],rotate:[{rotate:te()}],"rotate-x":[{"rotate-x":te()}],"rotate-y":[{"rotate-y":te()}],"rotate-z":[{"rotate-z":te()}],scale:[{scale:kt()}],"scale-x":[{"scale-x":kt()}],"scale-y":[{"scale-y":kt()}],"scale-z":[{"scale-z":kt()}],"scale-3d":["scale-3d"],skew:[{skew:ft()}],"skew-x":[{"skew-x":ft()}],"skew-y":[{"skew-y":ft()}],transform:[{transform:[Q,H,"","none","gpu","cpu"]}],"transform-origin":[{origin:de()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:_e()}],"translate-x":[{"translate-x":_e()}],"translate-y":[{"translate-y":_e()}],"translate-z":[{"translate-z":_e()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Q,H]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Q,H]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[ge,yr,Kt,ro]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Nl=gl(Kl);function mo(...n){return Nl(Ua(n))}var Ca=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Qe=n=>!n||typeof n!="object"||Object.keys(n).length===0,zl=(n,i)=>JSON.stringify(n)===JSON.stringify(i);function si(n,i){n.forEach(function(l){Array.isArray(l)?si(l,i):i.push(l)})}function li(n){let i=[];return si(n,i),i}var ci=(...n)=>li(n).filter(Boolean),ui=(n,i)=>{let l={},c=Object.keys(n),p=Object.keys(i);for(let h of c)if(p.includes(h)){let y=n[h],S=i[h];Array.isArray(y)||Array.isArray(S)?l[h]=ci(S,y):typeof y=="object"&&typeof S=="object"?l[h]=ui(y,S):l[h]=S+" "+y}else l[h]=n[h];for(let h of p)c.includes(h)||(l[h]=i[h]);return l},Aa=n=>!n||typeof n!="string"?n:n.replace(/\s+/g," ").trim();const Oo="-",Dl=n=>{const i=ql(n),{conflictingClassGroups:l,conflictingClassGroupModifiers:c}=n;return{getClassGroupId:y=>{const S=y.split(Oo);return S[0]===""&&S.length!==1&&S.shift(),di(S,i)||Bl(y)},getConflictingClassGroupIds:(y,S)=>{const A=l[y]||[];return S&&c[y]?[...A,...c[y]]:A}}},di=(n,i)=>{if(n.length===0)return i.classGroupId;const l=n[0],c=i.nextPart.get(l),p=c?di(n.slice(1),c):void 0;if(p)return p;if(i.validators.length===0)return;const h=n.join(Oo);return i.validators.find(({validator:y})=>y(h))?.classGroupId},Sa=/^\[(.+)\]$/,Bl=n=>{if(Sa.test(n)){const i=Sa.exec(n)[1],l=i?.substring(0,i.indexOf(":"));if(l)return"arbitrary.."+l}},ql=n=>{const{theme:i,classGroups:l}=n,c={nextPart:new Map,validators:[]};for(const p in l)go(l[p],c,p,i);return c},go=(n,i,l,c)=>{n.forEach(p=>{if(typeof p=="string"){const h=p===""?i:Pa(i,p);h.classGroupId=l;return}if(typeof p=="function"){if(Fl(p)){go(p(c),i,l,c);return}i.validators.push({validator:p,classGroupId:l});return}Object.entries(p).forEach(([h,y])=>{go(y,Pa(i,h),l,c)})})},Pa=(n,i)=>{let l=n;return i.split(Oo).forEach(c=>{l.nextPart.has(c)||l.nextPart.set(c,{nextPart:new Map,validators:[]}),l=l.nextPart.get(c)}),l},Fl=n=>n.isThemeGetter,Ll=n=>{if(n<1)return{get:()=>{},set:()=>{}};let i=0,l=new Map,c=new Map;const p=(h,y)=>{l.set(h,y),i++,i>n&&(i=0,c=l,l=new Map)};return{get(h){let y=l.get(h);if(y!==void 0)return y;if((y=c.get(h))!==void 0)return p(h,y),y},set(h,y){l.has(h)?l.set(h,y):p(h,y)}}},vo="!",yo=":",Gl=yo.length,Vl=n=>{const{prefix:i,experimentalParseClassName:l}=n;let c=p=>{const h=[];let y=0,S=0,A=0,I;for(let R=0;R<p.length;R++){let j=p[R];if(y===0&&S===0){if(j===yo){h.push(p.slice(A,R)),A=R+Gl;continue}if(j==="/"){I=R;continue}}j==="["?y++:j==="]"?y--:j==="("?S++:j===")"&&S--}const z=h.length===0?p:p.substring(A),B=$l(z),G=B!==z,ce=I&&I>A?I-A:void 0;return{modifiers:h,hasImportantModifier:G,baseClassName:B,maybePostfixModifierPosition:ce}};if(i){const p=i+yo,h=c;c=y=>y.startsWith(p)?h(y.substring(p.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:y,maybePostfixModifierPosition:void 0}}if(l){const p=c;c=h=>l({className:h,parseClassName:p})}return c},$l=n=>n.endsWith(vo)?n.substring(0,n.length-1):n.startsWith(vo)?n.substring(1):n,Ul=n=>{const i=Object.fromEntries(n.orderSensitiveModifiers.map(c=>[c,!0]));return c=>{if(c.length<=1)return c;const p=[];let h=[];return c.forEach(y=>{y[0]==="["||i[y]?(p.push(...h.sort(),y),h=[]):h.push(y)}),p.push(...h.sort()),p}},Wl=n=>({cache:Ll(n.cacheSize),parseClassName:Vl(n),sortModifiers:Ul(n),...Dl(n)}),Yl=/\s+/,Hl=(n,i)=>{const{parseClassName:l,getClassGroupId:c,getConflictingClassGroupIds:p,sortModifiers:h}=i,y=[],S=n.trim().split(Yl);let A="";for(let I=S.length-1;I>=0;I-=1){const z=S[I],{isExternal:B,modifiers:G,hasImportantModifier:ce,baseClassName:R,maybePostfixModifierPosition:j}=l(z);if(B){A=z+(A.length>0?" "+A:A);continue}let Z=!!j,oe=c(Z?R.substring(0,j):R);if(!oe){if(!Z){A=z+(A.length>0?" "+A:A);continue}if(oe=c(R),!oe){A=z+(A.length>0?" "+A:A);continue}Z=!1}const ne=h(G).join(":"),se=ce?ne+vo:ne,ae=se+oe;if(y.includes(ae))continue;y.push(ae);const de=p(oe,Z);for(let M=0;M<de.length;++M){const L=de[M];y.push(se+L)}A=z+(A.length>0?" "+A:A)}return A};function Ql(){let n=0,i,l,c="";for(;n<arguments.length;)(i=arguments[n++])&&(l=fi(i))&&(c&&(c+=" "),c+=l);return c}const fi=n=>{if(typeof n=="string")return n;let i,l="";for(let c=0;c<n.length;c++)n[c]&&(i=fi(n[c]))&&(l&&(l+=" "),l+=i);return l};function bo(n,...i){let l,c,p,h=y;function y(A){const I=i.reduce((z,B)=>B(z),n());return l=Wl(I),c=l.cache.get,p=l.cache.set,h=S,S(A)}function S(A){const I=c(A);if(I)return I;const z=Hl(A,l);return p(A,z),z}return function(){return h(Ql.apply(null,arguments))}}const qe=n=>{const i=l=>l[n]||[];return i.isThemeGetter=!0,i},hi=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,pi=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Xl=/^\d+\/\d+$/,Jl=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Zl=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ec=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,tc=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rc=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yt=n=>Xl.test(n),be=n=>!!n&&!Number.isNaN(Number(n)),Nt=n=>!!n&&Number.isInteger(Number(n)),Ea=n=>n.endsWith("%")&&be(n.slice(0,-1)),xt=n=>Jl.test(n),nc=()=>!0,oc=n=>Zl.test(n)&&!ec.test(n),Mo=()=>!1,ac=n=>tc.test(n),ic=n=>rc.test(n),sc=n=>!X(n)&&!J(n),lc=n=>er(n,vi,Mo),X=n=>hi.test(n),zt=n=>er(n,yi,oc),no=n=>er(n,bc,be),cc=n=>er(n,mi,Mo),uc=n=>er(n,gi,ic),dc=n=>er(n,Mo,ac),J=n=>pi.test(n),Zr=n=>tr(n,yi),fc=n=>tr(n,wc),hc=n=>tr(n,mi),pc=n=>tr(n,vi),mc=n=>tr(n,gi),gc=n=>tr(n,xc,!0),er=(n,i,l)=>{const c=hi.exec(n);return c?c[1]?i(c[1]):l(c[2]):!1},tr=(n,i,l=!1)=>{const c=pi.exec(n);return c?c[1]?i(c[1]):l:!1},mi=n=>n==="position",vc=new Set(["image","url"]),gi=n=>vc.has(n),yc=new Set(["length","size","percentage"]),vi=n=>yc.has(n),yi=n=>n==="length",bc=n=>n==="number",wc=n=>n==="family-name",xc=n=>n==="shadow",wo=()=>{const n=qe("color"),i=qe("font"),l=qe("text"),c=qe("font-weight"),p=qe("tracking"),h=qe("leading"),y=qe("breakpoint"),S=qe("container"),A=qe("spacing"),I=qe("radius"),z=qe("shadow"),B=qe("inset-shadow"),G=qe("drop-shadow"),ce=qe("blur"),R=qe("perspective"),j=qe("aspect"),Z=qe("ease"),oe=qe("animate"),ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["auto","hidden","clip","visible","scroll"],de=()=>["auto","contain","none"],M=()=>[J,X,A],L=()=>[Yt,"full","auto",...M()],W=()=>[Nt,"none","subgrid",J,X],Pe=()=>["auto",{span:["full",Nt,J,X]},J,X],Le=()=>[Nt,"auto",J,X],Ne=()=>["auto","min","max","fr",J,X],ee=()=>["start","end","center","between","around","evenly","stretch","baseline"],ie=()=>["start","end","center","stretch"],le=()=>["auto",...M()],ue=()=>[Yt,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],$=()=>[n,J,X],me=()=>[Ea,zt],T=()=>["","none","full",I,J,X],fe=()=>["",be,Zr,zt],xe=()=>["solid","dashed","dotted","double"],Ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Te=()=>["","none",ce,J,X],Ce=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",J,X],Ee=()=>["none",be,J,X],ze=()=>["none",be,J,X],Ve=()=>[be,J,X],Ae=()=>[Yt,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[xt],breakpoint:[xt],color:[nc],container:[xt],"drop-shadow":[xt],ease:["in","out","in-out"],font:[sc],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[xt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[xt],shadow:[xt],spacing:["px",be],text:[xt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Yt,X,J,j]}],container:["container"],columns:[{columns:[be,X,J,S]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),X,J]}],overflow:[{overflow:ae()}],"overflow-x":[{"overflow-x":ae()}],"overflow-y":[{"overflow-y":ae()}],overscroll:[{overscroll:de()}],"overscroll-x":[{"overscroll-x":de()}],"overscroll-y":[{"overscroll-y":de()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[Nt,"auto",J,X]}],basis:[{basis:[Yt,"full","auto",S,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[be,Yt,"auto","initial","none",X]}],grow:[{grow:["",be,J,X]}],shrink:[{shrink:["",be,J,X]}],order:[{order:[Nt,"first","last","none",J,X]}],"grid-cols":[{"grid-cols":W()}],"col-start-end":[{col:Pe()}],"col-start":[{"col-start":Le()}],"col-end":[{"col-end":Le()}],"grid-rows":[{"grid-rows":W()}],"row-start-end":[{row:Pe()}],"row-start":[{"row-start":Le()}],"row-end":[{"row-end":Le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ne()}],"auto-rows":[{"auto-rows":Ne()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...ee(),"normal"]}],"justify-items":[{"justify-items":[...ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...ie()]}],"align-content":[{content:["normal",...ee()]}],"align-items":[{items:[...ie(),"baseline"]}],"align-self":[{self:["auto",...ie(),"baseline"]}],"place-content":[{"place-content":ee()}],"place-items":[{"place-items":[...ie(),"baseline"]}],"place-self":[{"place-self":["auto",...ie()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:le()}],mx:[{mx:le()}],my:[{my:le()}],ms:[{ms:le()}],me:[{me:le()}],mt:[{mt:le()}],mr:[{mr:le()}],mb:[{mb:le()}],ml:[{ml:le()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:ue()}],w:[{w:[S,"screen",...ue()]}],"min-w":[{"min-w":[S,"screen","none",...ue()]}],"max-w":[{"max-w":[S,"screen","none","prose",{screen:[y]},...ue()]}],h:[{h:["screen",...ue()]}],"min-h":[{"min-h":["screen","none",...ue()]}],"max-h":[{"max-h":["screen",...ue()]}],"font-size":[{text:["base",l,Zr,zt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[c,J,no]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ea,X]}],"font-family":[{font:[fc,X,i]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[p,J,X]}],"line-clamp":[{"line-clamp":[be,"none",J,no]}],leading:[{leading:[h,...M()]}],"list-image":[{"list-image":["none",J,X]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",J,X]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[be,"from-font","auto",J,zt]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[be,"auto",J,X]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",J,X]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",J,X]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),hc,cc]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",pc,lc]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Nt,J,X],radial:["",J,X],conic:[Nt,J,X]},mc,uc]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:me()}],"gradient-via-pos":[{via:me()}],"gradient-to-pos":[{to:me()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:T()}],"rounded-s":[{"rounded-s":T()}],"rounded-e":[{"rounded-e":T()}],"rounded-t":[{"rounded-t":T()}],"rounded-r":[{"rounded-r":T()}],"rounded-b":[{"rounded-b":T()}],"rounded-l":[{"rounded-l":T()}],"rounded-ss":[{"rounded-ss":T()}],"rounded-se":[{"rounded-se":T()}],"rounded-ee":[{"rounded-ee":T()}],"rounded-es":[{"rounded-es":T()}],"rounded-tl":[{"rounded-tl":T()}],"rounded-tr":[{"rounded-tr":T()}],"rounded-br":[{"rounded-br":T()}],"rounded-bl":[{"rounded-bl":T()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[be,J,X]}],"outline-w":[{outline:["",be,Zr,zt]}],"outline-color":[{outline:[n]}],shadow:[{shadow:["","none",z,gc,dc]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",J,X,B]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[be,zt]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":$()}],opacity:[{opacity:[be,J,X]}],"mix-blend":[{"mix-blend":[...Ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ge()}],filter:[{filter:["","none",J,X]}],blur:[{blur:Te()}],brightness:[{brightness:[be,J,X]}],contrast:[{contrast:[be,J,X]}],"drop-shadow":[{"drop-shadow":["","none",G,J,X]}],grayscale:[{grayscale:["",be,J,X]}],"hue-rotate":[{"hue-rotate":[be,J,X]}],invert:[{invert:["",be,J,X]}],saturate:[{saturate:[be,J,X]}],sepia:[{sepia:["",be,J,X]}],"backdrop-filter":[{"backdrop-filter":["","none",J,X]}],"backdrop-blur":[{"backdrop-blur":Te()}],"backdrop-brightness":[{"backdrop-brightness":[be,J,X]}],"backdrop-contrast":[{"backdrop-contrast":[be,J,X]}],"backdrop-grayscale":[{"backdrop-grayscale":["",be,J,X]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[be,J,X]}],"backdrop-invert":[{"backdrop-invert":["",be,J,X]}],"backdrop-opacity":[{"backdrop-opacity":[be,J,X]}],"backdrop-saturate":[{"backdrop-saturate":[be,J,X]}],"backdrop-sepia":[{"backdrop-sepia":["",be,J,X]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",J,X]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[be,"initial",J,X]}],ease:[{ease:["linear","initial",Z,J,X]}],delay:[{delay:[be,J,X]}],animate:[{animate:["none",oe,J,X]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[R,J,X]}],"perspective-origin":[{"perspective-origin":Ce()}],rotate:[{rotate:Ee()}],"rotate-x":[{"rotate-x":Ee()}],"rotate-y":[{"rotate-y":Ee()}],"rotate-z":[{"rotate-z":Ee()}],scale:[{scale:ze()}],"scale-x":[{"scale-x":ze()}],"scale-y":[{"scale-y":ze()}],"scale-z":[{"scale-z":ze()}],"scale-3d":["scale-3d"],skew:[{skew:Ve()}],"skew-x":[{"skew-x":Ve()}],"skew-y":[{"skew-y":Ve()}],transform:[{transform:[J,X,"","none","gpu","cpu"]}],"transform-origin":[{origin:Ce()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ae()}],"translate-x":[{"translate-x":Ae()}],"translate-y":[{"translate-y":Ae()}],"translate-z":[{"translate-z":Ae()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",J,X]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",J,X]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[be,Zr,zt,no]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},_c=(n,{cacheSize:i,prefix:l,experimentalParseClassName:c,extend:p={},override:h={}})=>(wr(n,"cacheSize",i),wr(n,"prefix",l),wr(n,"experimentalParseClassName",c),en(n.theme,h.theme),en(n.classGroups,h.classGroups),en(n.conflictingClassGroups,h.conflictingClassGroups),en(n.conflictingClassGroupModifiers,h.conflictingClassGroupModifiers),wr(n,"orderSensitiveModifiers",h.orderSensitiveModifiers),tn(n.theme,p.theme),tn(n.classGroups,p.classGroups),tn(n.conflictingClassGroups,p.conflictingClassGroups),tn(n.conflictingClassGroupModifiers,p.conflictingClassGroupModifiers),bi(n,p,"orderSensitiveModifiers"),n),wr=(n,i,l)=>{l!==void 0&&(n[i]=l)},en=(n,i)=>{if(i)for(const l in i)wr(n,l,i[l])},tn=(n,i)=>{if(i)for(const l in i)bi(n,i,l)},bi=(n,i,l)=>{const c=i[l];c!==void 0&&(n[l]=n[l]?n[l].concat(c):c)},kc=(n,...i)=>typeof n=="function"?bo(wo,n,...i):bo(()=>_c(wo(),n),...i),Cc=bo(wo);var Ac={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},wi=n=>n||void 0,kr=(...n)=>wi(li(n).filter(Boolean).join(" ")),oo=null,ct={},xo=!1,br=(...n)=>i=>i.twMerge?((!oo||xo)&&(xo=!1,oo=Qe(ct)?Cc:kc({...ct,extend:{theme:ct.theme,classGroups:ct.classGroups,conflictingClassGroupModifiers:ct.conflictingClassGroupModifiers,conflictingClassGroups:ct.conflictingClassGroups,...ct.extend}})),wi(oo(kr(n)))):kr(n),Oa=(n,i)=>{for(let l in i)n.hasOwnProperty(l)?n[l]=kr(n[l],i[l]):n[l]=i[l];return n},xi=(n,i)=>{let{extend:l=null,slots:c={},variants:p={},compoundVariants:h=[],compoundSlots:y=[],defaultVariants:S={}}=n,A={...Ac,...i},I=l!=null&&l.base?kr(l.base,n?.base):n?.base,z=l!=null&&l.variants&&!Qe(l.variants)?ui(p,l.variants):p,B=l!=null&&l.defaultVariants&&!Qe(l.defaultVariants)?{...l.defaultVariants,...S}:S;!Qe(A.twMergeConfig)&&!zl(A.twMergeConfig,ct)&&(xo=!0,ct=A.twMergeConfig);let G=Qe(l?.slots),ce=Qe(c)?{}:{base:kr(n?.base,G&&l?.base),...c},R=G?ce:Oa({...l?.slots},Qe(ce)?{base:n?.base}:ce),j=Qe(l?.compoundVariants)?h:ci(l?.compoundVariants,h),Z=ne=>{if(Qe(z)&&Qe(c)&&G)return br(I,ne?.class,ne?.className)(A);if(j&&!Array.isArray(j))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof j}`);if(y&&!Array.isArray(y))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof y}`);let se=(ee,ie,le=[],ue)=>{let $=le;if(typeof ie=="string")$=$.concat(Aa(ie).split(" ").map(me=>`${ee}:${me}`));else if(Array.isArray(ie))$=$.concat(ie.reduce((me,T)=>me.concat(`${ee}:${T}`),[]));else if(typeof ie=="object"&&typeof ue=="string"){for(let me in ie)if(ie.hasOwnProperty(me)&&me===ue){let T=ie[me];if(T&&typeof T=="string"){let fe=Aa(T);$[ue]?$[ue]=$[ue].concat(fe.split(" ").map(xe=>`${ee}:${xe}`)):$[ue]=fe.split(" ").map(xe=>`${ee}:${xe}`)}else Array.isArray(T)&&T.length>0&&($[ue]=T.reduce((fe,xe)=>fe.concat(`${ee}:${xe}`),[]))}}return $},ae=(ee,ie=z,le=null,ue=null)=>{var $;let me=ie[ee];if(!me||Qe(me))return null;let T=($=ue?.[ee])!=null?$:ne?.[ee];if(T===null)return null;let fe=Ca(T),xe=Array.isArray(A.responsiveVariants)&&A.responsiveVariants.length>0||A.responsiveVariants===!0,Ge=B?.[ee],Te=[];if(typeof fe=="object"&&xe)for(let[ze,Ve]of Object.entries(fe)){let Ae=me[Ve];if(ze==="initial"){Ge=Ve;continue}Array.isArray(A.responsiveVariants)&&!A.responsiveVariants.includes(ze)||(Te=se(ze,Ae,Te,le))}let Ce=fe!=null&&typeof fe!="object"?fe:Ca(Ge),Ee=me[Ce||"false"];return typeof Te=="object"&&typeof le=="string"&&Te[le]?Oa(Te,Ee):Te.length>0?(Te.push(Ee),le==="base"?Te.join(" "):Te):Ee},de=()=>z?Object.keys(z).map(ee=>ae(ee,z)):null,M=(ee,ie)=>{if(!z||typeof z!="object")return null;let le=new Array;for(let ue in z){let $=ae(ue,z,ee,ie),me=ee==="base"&&typeof $=="string"?$:$&&$[ee];me&&(le[le.length]=me)}return le},L={};for(let ee in ne)ne[ee]!==void 0&&(L[ee]=ne[ee]);let W=(ee,ie)=>{var le;let ue=typeof ne?.[ee]=="object"?{[ee]:(le=ne[ee])==null?void 0:le.initial}:{};return{...B,...L,...ue,...ie}},Pe=(ee=[],ie)=>{let le=[];for(let{class:ue,className:$,...me}of ee){let T=!0;for(let[fe,xe]of Object.entries(me)){let Ge=W(fe,ie)[fe];if(Array.isArray(xe)){if(!xe.includes(Ge)){T=!1;break}}else{let Te=Ce=>Ce==null||Ce===!1;if(Te(xe)&&Te(Ge))continue;if(Ge!==xe){T=!1;break}}}T&&(ue&&le.push(ue),$&&le.push($))}return le},Le=ee=>{let ie=Pe(j,ee);if(!Array.isArray(ie))return ie;let le={};for(let ue of ie)if(typeof ue=="string"&&(le.base=br(le.base,ue)(A)),typeof ue=="object")for(let[$,me]of Object.entries(ue))le[$]=br(le[$],me)(A);return le},Ne=ee=>{if(y.length<1)return null;let ie={};for(let{slots:le=[],class:ue,className:$,...me}of y){if(!Qe(me)){let T=!0;for(let fe of Object.keys(me)){let xe=W(fe,ee)[fe];if(xe===void 0||(Array.isArray(me[fe])?!me[fe].includes(xe):me[fe]!==xe)){T=!1;break}}if(!T)continue}for(let T of le)ie[T]=ie[T]||[],ie[T].push([ue,$])}return ie};if(!Qe(c)||!G){let ee={};if(typeof R=="object"&&!Qe(R))for(let ie of Object.keys(R))ee[ie]=le=>{var ue,$;return br(R[ie],M(ie,le),((ue=Le(le))!=null?ue:[])[ie],(($=Ne(le))!=null?$:[])[ie],le?.class,le?.className)(A)};return ee}return br(I,de(),Pe(j),ne?.class,ne?.className)(A)},oe=()=>{if(!(!z||typeof z!="object"))return Object.keys(z)};return Z.variantKeys=oe(),Z.extend=l,Z.base=I,Z.slots=R,Z.variants=z,Z.defaultVariants=B,Z.compoundSlots=y,Z.compoundVariants=j,Z};const Ma=xi({base:"focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive inline-flex shrink-0 items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium outline-none transition-all focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60 text-white",outline:"bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 border",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 gap-1.5 rounded-md px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});var Sc=La("<a><!></a>"),Pc=La("<button><!></button>");function Vc(n,i){Ao(i,!0);let l=et(i,"variant",3,"default"),c=et(i,"size",3,"default"),p=et(i,"ref",15,null),h=et(i,"href",3,void 0),y=et(i,"type",3,"button"),S=Po(i,["$$slots","$$events","$$legacy","class","variant","size","ref","href","type","disabled","children"]);var A=nn(),I=on(A);{var z=G=>{var ce=Sc();_r(ce,j=>({"data-slot":"button",class:j,href:i.disabled?void 0:h(),"aria-disabled":i.disabled,role:i.disabled?"link":void 0,tabindex:i.disabled?-1:void 0,...S}),[()=>mo(Ma({variant:l(),size:c()}),i.class)],void 0,"svelte-1fk696n");var R=io(ce);an(R,()=>i.children??sn),so(ce),lo(ce,j=>p(j),()=>p()),Bt(G,ce)},B=G=>{var ce=Pc();_r(ce,j=>({"data-slot":"button",class:j,type:y(),disabled:i.disabled,...S}),[()=>mo(Ma({variant:l(),size:c()}),i.class)],void 0,"svelte-1fk696n");var R=io(ce);an(R,()=>i.children??sn),so(ce),lo(ce,j=>p(j),()=>p()),Bt(G,ce)};Fs(I,G=>{h()?G(z):G(B,!1)})}Bt(n,A),So()}/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const Ec={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var Oc=zs("<svg><!><!></svg>");function $c(n,i){Ao(i,!0);const l=et(i,"color",3,"currentColor"),c=et(i,"size",3,24),p=et(i,"strokeWidth",3,2),h=et(i,"absoluteStrokeWidth",3,!1),y=et(i,"iconNode",19,()=>[]),S=Po(i,["$$slots","$$events","$$legacy","name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","children"]);var A=Oc();_r(A,B=>({...Ec,...S,width:c(),height:c(),stroke:l(),"stroke-width":B,class:["lucide-icon lucide",i.name&&`lucide-${i.name}`,i.class]}),[()=>h()?Number(p())*24/Number(c()):p()]);var I=io(A);Vs(I,17,y,Ls,(B,G)=>{var ce=Bs(()=>qs(He(G),2));let R=()=>He(ce)[0],j=()=>He(ce)[1];var Z=nn(),oe=on(Z);Va(oe,R,!0,(ne,se)=>{_r(ne,()=>({...j()}))}),Bt(B,Z)});var z=Ds(I);an(z,()=>i.children??sn),so(A),Bt(n,A),So()}const Mc=xi({base:"focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive inline-flex w-fit shrink-0 items-center justify-center gap-1 overflow-hidden whitespace-nowrap rounded-md border px-2 py-0.5 text-xs font-medium transition-[color,box-shadow] focus-visible:ring-[3px] [&>svg]:pointer-events-none [&>svg]:size-3",variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90 border-transparent",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90 border-transparent",destructive:"bg-destructive [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/70 border-transparent text-white",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Uc(n,i){Ao(i,!0);let l=et(i,"ref",15,null),c=et(i,"variant",3,"default"),p=Po(i,["$$slots","$$events","$$legacy","ref","href","class","variant","children"]);var h=nn(),y=on(h);Va(y,()=>i.href?"a":"span",!1,(S,A)=>{lo(S,B=>l(B),()=>l()),_r(S,B=>({"data-slot":"badge",href:i.href,class:B,...p}),[()=>mo(Mc({variant:c()}),i.class)]);var I=nn(),z=on(I);an(z,()=>i.children??sn),Bt(A,I)}),Bt(n,h),So()}var rn={exports:{}},Ic=rn.exports,Ia;function Tc(){return Ia||(Ia=1,function(n,i){(function(l,c){n.exports=c()})(Ic,function(){var l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])})(e,t)},c=function(){return(c=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function p(e,t,r){for(var o,a=0,s=t.length;a<s;a++)!o&&a in t||((o=o||Array.prototype.slice.call(t,0,a))[a]=t[a]);return e.concat(o||Array.prototype.slice.call(t))}var h=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:tl,y=Object.keys,S=Array.isArray;function A(e,t){return typeof t!="object"||y(t).forEach(function(r){e[r]=t[r]}),e}typeof Promise>"u"||h.Promise||(h.Promise=Promise);var I=Object.getPrototypeOf,z={}.hasOwnProperty;function B(e,t){return z.call(e,t)}function G(e,t){typeof t=="function"&&(t=t(I(e))),(typeof Reflect>"u"?y:Reflect.ownKeys)(t).forEach(function(r){R(e,r,t[r])})}var ce=Object.defineProperty;function R(e,t,r,o){ce(e,t,A(r&&B(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},o))}function j(e){return{from:function(t){return e.prototype=Object.create(t.prototype),R(e.prototype,"constructor",e),{extend:G.bind(null,e.prototype)}}}}var Z=Object.getOwnPropertyDescriptor,oe=[].slice;function ne(e,t,r){return oe.call(e,t,r)}function se(e,t){return t(e)}function ae(e){if(!e)throw new Error("Assertion Failed")}function de(e){h.setImmediate?setImmediate(e):setTimeout(e,0)}function M(e,t){if(typeof t=="string"&&B(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var r=[],o=0,a=t.length;o<a;++o){var s=M(e,t[o]);r.push(s)}return r}var u=t.indexOf(".");if(u!==-1){var d=e[t.substr(0,u)];return d==null?void 0:M(d,t.substr(u+1))}}function L(e,t,r){if(e&&t!==void 0&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){ae(typeof r!="string"&&"length"in r);for(var o=0,a=t.length;o<a;++o)L(e,t[o],r[o])}else{var s,u,d=t.indexOf(".");d!==-1?(s=t.substr(0,d),(u=t.substr(d+1))===""?r===void 0?S(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=r:L(d=!(d=e[s])||!B(e,s)?e[s]={}:d,u,r)):r===void 0?S(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function W(e){var t,r={};for(t in e)B(e,t)&&(r[t]=e[t]);return r}var Pe=[].concat;function Le(e){return Pe.apply([],e)}var At="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Le([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return h[e]}),Ne=new Set(At.map(function(e){return h[e]})),ee=null;function ie(e){return ee=new WeakMap,e=function t(r){if(!r||typeof r!="object")return r;var o=ee.get(r);if(o)return o;if(S(r)){o=[],ee.set(r,o);for(var a=0,s=r.length;a<s;++a)o.push(t(r[a]))}else if(Ne.has(r.constructor))o=r;else{var u,d=I(r);for(u in o=d===Object.prototype?{}:Object.create(d),ee.set(r,o),r)B(r,u)&&(o[u]=t(r[u]))}return o}(e),ee=null,e}var le={}.toString;function ue(e){return le.call(e).slice(8,-1)}var $=typeof Symbol<"u"?Symbol.iterator:"@@iterator",me=typeof $=="symbol"?function(e){var t;return e!=null&&(t=e[$])&&t.apply(e)}:function(){return null};function T(e,t){return t=e.indexOf(t),0<=t&&e.splice(t,1),0<=t}var fe={};function xe(e){var t,r,o,a;if(arguments.length===1){if(S(e))return e.slice();if(this===fe&&typeof e=="string")return[e];if(a=me(e)){for(r=[];!(o=a.next()).done;)r.push(o.value);return r}if(e==null)return[e];if(typeof(t=e.length)!="number")return[e];for(r=new Array(t);t--;)r[t]=e[t];return r}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}var Ge=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},or=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ze=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(or),Te={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ce(e,t){this.name=e,this.message=t}function Ee(e,t){return e+". Errors: "+Object.keys(t).map(function(r){return t[r].toString()}).filter(function(r,o,a){return a.indexOf(r)===o}).join(`
`)}function ze(e,t,r,o){this.failures=t,this.failedKeys=o,this.successCount=r,this.message=Ee(e,t)}function Ve(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(r){return t[r]}),this.failuresByPos=t,this.message=Ee(e,this.failures)}j(Ce).from(Error).extend({toString:function(){return this.name+": "+this.message}}),j(ze).from(Ce),j(Ve).from(Ce);var Ae=Ze.reduce(function(e,t){return e[t]=t+"Error",e},{}),Cr=Ce,te=Ze.reduce(function(e,t){var r=t+"Error";function o(a,s){this.name=r,a?typeof a=="string"?(this.message="".concat(a).concat(s?`
 `+s:""),this.inner=s||null):typeof a=="object"&&(this.message="".concat(a.name," ").concat(a.message),this.inner=a):(this.message=Te[t]||r,this.inner=null)}return j(o).from(Cr),e[t]=o,e},{});te.Syntax=SyntaxError,te.Type=TypeError,te.Range=RangeError;var kt=or.reduce(function(e,t){return e[t+"Error"]=te[t],e},{}),ft=Ze.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=te[t]),e},{});function _e(){}function rr(e){return e}function ki(e,t){return e==null||e===rr?t:function(r){return t(e(r))}}function Ct(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Ci(e,t){return e===_e?t:function(){var r=e.apply(this,arguments);r!==void 0&&(arguments[0]=r);var o=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?Ct(o,this.onsuccess):o),a&&(this.onerror=this.onerror?Ct(a,this.onerror):a),s!==void 0?s:r}}function Ai(e,t){return e===_e?t:function(){e.apply(this,arguments);var r=this.onsuccess,o=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?Ct(r,this.onsuccess):r),o&&(this.onerror=this.onerror?Ct(o,this.onerror):o)}}function Si(e,t){return e===_e?t:function(r){var o=e.apply(this,arguments);A(r,o);var a=this.onsuccess,s=this.onerror;return this.onsuccess=null,this.onerror=null,r=t.apply(this,arguments),a&&(this.onsuccess=this.onsuccess?Ct(a,this.onsuccess):a),s&&(this.onerror=this.onerror?Ct(s,this.onerror):s),o===void 0?r===void 0?void 0:r:A(o,r)}}function Pi(e,t){return e===_e?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function hn(e,t){return e===_e?t:function(){var r=e.apply(this,arguments);if(r&&typeof r.then=="function"){for(var o=this,a=arguments.length,s=new Array(a);a--;)s[a]=arguments[a];return r.then(function(){return t.apply(o,s)})}return t.apply(this,arguments)}}ft.ModifyError=ze,ft.DexieError=Ce,ft.BulkError=Ve;var tt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Io(e){tt=e}var nr={},To=100,At=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,I(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,I(t),e]}(),or=At[0],Ze=At[1],At=At[2],Ze=Ze&&Ze.then,St=or&&or.constructor,pn=!!At,ar=function(e,t){ir.push([e,t]),Ar&&(queueMicrotask(Oi),Ar=!1)},mn=!0,Ar=!0,Pt=[],Sr=[],gn=rr,ht={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:_e,pgp:!1,env:{},finalize:_e},re=ht,ir=[],Et=0,Pr=[];function U(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=re;if(typeof e!="function"){if(e!==nr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&yn(this,this._value))}this._state=null,this._value=null,++t.ref,function r(o,a){try{a(function(s){if(o._state===null){if(s===o)throw new TypeError("A promise cannot be resolved with itself.");var u=o._lib&&qt();s&&typeof s.then=="function"?r(o,function(d,m){s instanceof U?s._then(d,m):s.then(d,m)}):(o._state=!0,o._value=s,jo(o)),u&&Ft()}},yn.bind(null,o))}catch(s){yn(o,s)}}(this,e)}var vn={get:function(){var e=re,t=Ir;function r(o,a){var s=this,u=!e.global&&(e!==re||t!==Ir),d=u&&!mt(),m=new U(function(v,x){bn(s,new Ro(No(o,e,u,d),No(a,e,u,d),v,x,e))});return this._consoleTask&&(m._consoleTask=this._consoleTask),m}return r.prototype=nr,r},set:function(e){R(this,"then",e&&e.prototype===nr?vn:{get:function(){return e},set:vn.set})}};function Ro(e,t,r,o,a){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=r,this.reject=o,this.psd=a}function yn(e,t){var r,o;Sr.push(t),e._state===null&&(r=e._lib&&qt(),t=gn(t),e._state=!1,e._value=t,o=e,Pt.some(function(a){return a._value===o._value})||Pt.push(o),jo(e),r&&Ft())}function jo(e){var t=e._listeners;e._listeners=[];for(var r=0,o=t.length;r<o;++r)bn(e,t[r]);var a=e._PSD;--a.ref||a.finalize(),Et===0&&(++Et,ar(function(){--Et==0&&wn()},[]))}function bn(e,t){if(e._state!==null){var r=e._state?t.onFulfilled:t.onRejected;if(r===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Et,ar(Ei,[r,e,t])}else e._listeners.push(t)}function Ei(e,t,r){try{var o,a=t._value;!t._state&&Sr.length&&(Sr=[]),o=tt&&t._consoleTask?t._consoleTask.run(function(){return e(a)}):e(a),t._state||Sr.indexOf(a)!==-1||function(s){for(var u=Pt.length;u;)if(Pt[--u]._value===s._value)return Pt.splice(u,1)}(t),r.resolve(o)}catch(s){r.reject(s)}finally{--Et==0&&wn(),--r.psd.ref||r.psd.finalize()}}function Oi(){Ot(ht,function(){qt()&&Ft()})}function qt(){var e=mn;return Ar=mn=!1,e}function Ft(){var e,t,r;do for(;0<ir.length;)for(e=ir,ir=[],r=e.length,t=0;t<r;++t){var o=e[t];o[0].apply(null,o[1])}while(0<ir.length);Ar=mn=!0}function wn(){var e=Pt;Pt=[],e.forEach(function(o){o._PSD.onunhandled.call(null,o._value,o)});for(var t=Pr.slice(0),r=t.length;r;)t[--r]()}function Er(e){return new U(nr,!1,e)}function Me(e,t){var r=re;return function(){var o=qt(),a=re;try{return gt(r,!0),e.apply(this,arguments)}catch(s){t&&t(s)}finally{gt(a,!1),o&&Ft()}}}G(U.prototype,{then:vn,_then:function(e,t){bn(this,new Ro(null,null,e,t,re))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=e,r=arguments[1];return typeof t=="function"?this.then(null,function(o){return(o instanceof t?r:Er)(o)}):this.then(null,function(o){return(o&&o.name===t?r:Er)(o)})},finally:function(e){return this.then(function(t){return U.resolve(e()).then(function(){return t})},function(t){return U.resolve(e()).then(function(){return Er(t)})})},timeout:function(e,t){var r=this;return e<1/0?new U(function(o,a){var s=setTimeout(function(){return a(new te.Timeout(t))},e);r.then(o,a).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&R(U.prototype,Symbol.toStringTag,"Dexie.Promise"),ht.env=Ko(),G(U,{all:function(){var e=xe.apply(null,arguments).map(Tr);return new U(function(t,r){e.length===0&&t([]);var o=e.length;e.forEach(function(a,s){return U.resolve(a).then(function(u){e[s]=u,--o||t(e)},r)})})},resolve:function(e){return e instanceof U?e:e&&typeof e.then=="function"?new U(function(t,r){e.then(t,r)}):new U(nr,!0,e)},reject:Er,race:function(){var e=xe.apply(null,arguments).map(Tr);return new U(function(t,r){e.map(function(o){return U.resolve(o).then(t,r)})})},PSD:{get:function(){return re},set:function(e){return re=e}},totalEchoes:{get:function(){return Ir}},newPSD:pt,usePSD:Ot,scheduler:{get:function(){return ar},set:function(e){ar=e}},rejectionMapper:{get:function(){return gn},set:function(e){gn=e}},follow:function(e,t){return new U(function(r,o){return pt(function(a,s){var u=re;u.unhandleds=[],u.onunhandled=s,u.finalize=Ct(function(){var d,m=this;d=function(){m.unhandleds.length===0?a():s(m.unhandleds[0])},Pr.push(function v(){d(),Pr.splice(Pr.indexOf(v),1)}),++Et,ar(function(){--Et==0&&wn()},[])},u.finalize),e()},t,r,o)})}}),St&&(St.allSettled&&R(U,"allSettled",function(){var e=xe.apply(null,arguments).map(Tr);return new U(function(t){e.length===0&&t([]);var r=e.length,o=new Array(r);e.forEach(function(a,s){return U.resolve(a).then(function(u){return o[s]={status:"fulfilled",value:u}},function(u){return o[s]={status:"rejected",reason:u}}).then(function(){return--r||t(o)})})})}),St.any&&typeof AggregateError<"u"&&R(U,"any",function(){var e=xe.apply(null,arguments).map(Tr);return new U(function(t,r){e.length===0&&r(new AggregateError([]));var o=e.length,a=new Array(o);e.forEach(function(s,u){return U.resolve(s).then(function(d){return t(d)},function(d){a[u]=d,--o||r(new AggregateError(a))})})})}),St.withResolvers&&(U.withResolvers=St.withResolvers));var De={awaits:0,echoes:0,id:0},Mi=0,Or=[],Mr=0,Ir=0,Ii=0;function pt(e,t,r,o){var a=re,s=Object.create(a);return s.parent=a,s.ref=0,s.global=!1,s.id=++Ii,ht.env,s.env=pn?{Promise:U,PromiseProp:{value:U,configurable:!0,writable:!0},all:U.all,race:U.race,allSettled:U.allSettled,any:U.any,resolve:U.resolve,reject:U.reject}:{},t&&A(s,t),++a.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()},o=Ot(s,e,r,o),s.ref===0&&s.finalize(),o}function Lt(){return De.id||(De.id=++Mi),++De.awaits,De.echoes+=To,De.id}function mt(){return!!De.awaits&&(--De.awaits==0&&(De.id=0),De.echoes=De.awaits*To,!0)}function Tr(e){return De.echoes&&e&&e.constructor===St?(Lt(),e.then(function(t){return mt(),t},function(t){return mt(),Re(t)})):e}function Ti(){var e=Or[Or.length-1];Or.pop(),gt(e,!1)}function gt(e,t){var r,o=re;(t?!De.echoes||Mr++&&e===re:!Mr||--Mr&&e===re)||queueMicrotask(t?(function(a){++Ir,De.echoes&&--De.echoes!=0||(De.echoes=De.awaits=De.id=0),Or.push(re),gt(a,!0)}).bind(null,e):Ti),e!==re&&(re=e,o===ht&&(ht.env=Ko()),pn&&(r=ht.env.Promise,t=e.env,(o.global||e.global)&&(Object.defineProperty(h,"Promise",t.PromiseProp),r.all=t.all,r.race=t.race,r.resolve=t.resolve,r.reject=t.reject,t.allSettled&&(r.allSettled=t.allSettled),t.any&&(r.any=t.any))))}function Ko(){var e=h.Promise;return pn?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(h,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function Ot(e,t,r,o,a){var s=re;try{return gt(e,!0),t(r,o,a)}finally{gt(s,!1)}}function No(e,t,r,o){return typeof e!="function"?e:function(){var a=re;r&&Lt(),gt(t,!0);try{return e.apply(this,arguments)}finally{gt(a,!1),o&&queueMicrotask(mt)}}}function xn(e){Promise===St&&De.echoes===0?Mr===0?e():enqueueNativeMicroTask(e):setTimeout(e,0)}(""+Ze).indexOf("[native code]")===-1&&(Lt=mt=_e);var Re=U.reject,Mt="ï¿¿",at="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",zo="String expected.",Gt=[],Rr="__dbnames",_n="readonly",kn="readwrite";function It(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Do={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function jr(e){return typeof e!="string"||/\./.test(e)?function(t){return t}:function(t){return t[e]===void 0&&e in t&&delete(t=ie(t))[e],t}}function Bo(){throw te.Type()}function we(e,t){try{var r=qo(e),o=qo(t);if(r!==o)return r==="Array"?1:o==="Array"?-1:r==="binary"?1:o==="binary"?-1:r==="string"?1:o==="string"?-1:r==="Date"?1:o!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return function(a,s){for(var u=a.length,d=s.length,m=u<d?u:d,v=0;v<m;++v)if(a[v]!==s[v])return a[v]<s[v]?-1:1;return u===d?0:u<d?-1:1}(Fo(e),Fo(t));case"Array":return function(a,s){for(var u=a.length,d=s.length,m=u<d?u:d,v=0;v<m;++v){var x=we(a[v],s[v]);if(x!==0)return x}return u===d?0:u<d?-1:1}(e,t)}}catch{}return NaN}function qo(e){var t=typeof e;return t!="object"?t:ArrayBuffer.isView(e)?"binary":(e=ue(e),e==="ArrayBuffer"?"binary":e)}function Fo(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var Lo=(Oe.prototype._trans=function(e,t,r){var o=this._tx||re.trans,a=this.name,s=tt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(e==="readonly"?"read":"write"," ").concat(this.name));function u(v,x,f){if(!f.schema[a])throw new te.NotFound("Table "+a+" not part of transaction");return t(f.idbtrans,f)}var d=qt();try{var m=o&&o.db._novip===this.db._novip?o===re.trans?o._promise(e,u,r):pt(function(){return o._promise(e,u,r)},{trans:o,transless:re.transless||re}):function v(x,f,k,g){if(x.idbdb&&(x._state.openComplete||re.letThrough||x._vip)){var w=x._createTransaction(f,k,x._dbSchema);try{w.create(),x._state.PR1398_maxLoop=3}catch(_){return _.name===Ae.InvalidState&&x.isOpen()&&0<--x._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),x.close({disableAutoOpen:!1}),x.open().then(function(){return v(x,f,k,g)})):Re(_)}return w._promise(f,function(_,b){return pt(function(){return re.trans=w,g(_,b,w)})}).then(function(_){if(f==="readwrite")try{w.idbtrans.commit()}catch{}return f==="readonly"?_:w._completion.then(function(){return _})})}if(x._state.openComplete)return Re(new te.DatabaseClosed(x._state.dbOpenError));if(!x._state.isBeingOpened){if(!x._state.autoOpen)return Re(new te.DatabaseClosed);x.open().catch(_e)}return x._state.dbReadyPromise.then(function(){return v(x,f,k,g)})}(this.db,e,[this.name],u);return s&&(m._consoleTask=s,m=m.catch(function(v){return console.trace(v),Re(v)})),m}finally{d&&Ft()}},Oe.prototype.get=function(e,t){var r=this;return e&&e.constructor===Object?this.where(e).first(t):e==null?Re(new te.Type("Invalid argument to Table.get()")):this._trans("readonly",function(o){return r.core.get({trans:o,key:e}).then(function(a){return r.hook.reading.fire(a)})}).then(t)},Oe.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(S(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=y(e);if(t.length===1)return this.where(t[0]).equals(e[t[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(d){if(d.compound&&t.every(function(v){return 0<=d.keyPath.indexOf(v)})){for(var m=0;m<t.length;++m)if(t.indexOf(d.keyPath[m])===-1)return!1;return!0}return!1}).sort(function(d,m){return d.keyPath.length-m.keyPath.length})[0];if(r&&this.db._maxKey!==Mt){var s=r.keyPath.slice(0,t.length);return this.where(s).equals(s.map(function(m){return e[m]}))}!r&&tt&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var o=this.schema.idxByName;function a(d,m){return we(d,m)===0}var u=t.reduce(function(f,m){var v=f[0],x=f[1],f=o[m],k=e[m];return[v||f,v||!f?It(x,f&&f.multi?function(g){return g=M(g,m),S(g)&&g.some(function(w){return a(k,w)})}:function(g){return a(k,M(g,m))}):x]},[null,null]),s=u[0],u=u[1];return s?this.where(s.name).equals(e[s.keyPath]).filter(u):r?this.filter(u):this.where(t).equals("")},Oe.prototype.filter=function(e){return this.toCollection().and(e)},Oe.prototype.count=function(e){return this.toCollection().count(e)},Oe.prototype.offset=function(e){return this.toCollection().offset(e)},Oe.prototype.limit=function(e){return this.toCollection().limit(e)},Oe.prototype.each=function(e){return this.toCollection().each(e)},Oe.prototype.toArray=function(e){return this.toCollection().toArray(e)},Oe.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Oe.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,S(e)?"[".concat(e.join("+"),"]"):e))},Oe.prototype.reverse=function(){return this.toCollection().reverse()},Oe.prototype.mapToClass=function(e){var t,r=this.db,o=this.name;function a(){return t!==null&&t.apply(this,arguments)||this}(this.schema.mappedClass=e).prototype instanceof Bo&&(function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function x(){this.constructor=m}l(m,v),m.prototype=v===null?Object.create(v):(x.prototype=v.prototype,new x)}(a,t=e),Object.defineProperty(a.prototype,"db",{get:function(){return r},enumerable:!1,configurable:!0}),a.prototype.table=function(){return o},e=a);for(var s=new Set,u=e.prototype;u;u=I(u))Object.getOwnPropertyNames(u).forEach(function(m){return s.add(m)});function d(m){if(!m)return m;var v,x=Object.create(e.prototype);for(v in m)if(!s.has(v))try{x[v]=m[v]}catch{}return x}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=d,this.hook("reading",d),e},Oe.prototype.defineClass=function(){return this.mapToClass(function(e){A(this,e)})},Oe.prototype.add=function(e,t){var r=this,o=this.schema.primKey,a=o.auto,s=o.keyPath,u=e;return s&&a&&(u=jr(s)(e)),this._trans("readwrite",function(d){return r.core.mutate({trans:d,type:"add",keys:t!=null?[t]:null,values:[u]})}).then(function(d){return d.numFailures?U.reject(d.failures[0]):d.lastResult}).then(function(d){if(s)try{L(e,s,d)}catch{}return d})},Oe.prototype.update=function(e,t){return typeof e!="object"||S(e)?this.where(":id").equals(e).modify(t):(e=M(e,this.schema.primKey.keyPath),e===void 0?Re(new te.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t))},Oe.prototype.put=function(e,t){var r=this,o=this.schema.primKey,a=o.auto,s=o.keyPath,u=e;return s&&a&&(u=jr(s)(e)),this._trans("readwrite",function(d){return r.core.mutate({trans:d,type:"put",values:[u],keys:t!=null?[t]:null})}).then(function(d){return d.numFailures?U.reject(d.failures[0]):d.lastResult}).then(function(d){if(s)try{L(e,s,d)}catch{}return d})},Oe.prototype.delete=function(e){var t=this;return this._trans("readwrite",function(r){return t.core.mutate({trans:r,type:"delete",keys:[e]})}).then(function(r){return r.numFailures?U.reject(r.failures[0]):void 0})},Oe.prototype.clear=function(){var e=this;return this._trans("readwrite",function(t){return e.core.mutate({trans:t,type:"deleteRange",range:Do})}).then(function(t){return t.numFailures?U.reject(t.failures[0]):void 0})},Oe.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",function(r){return t.core.getMany({keys:e,trans:r}).then(function(o){return o.map(function(a){return t.hook.reading.fire(a)})})})},Oe.prototype.bulkAdd=function(e,t,r){var o=this,a=Array.isArray(t)?t:void 0,s=(r=r||(a?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",function(u){var v=o.schema.primKey,d=v.auto,v=v.keyPath;if(v&&a)throw new te.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==e.length)throw new te.InvalidArgument("Arguments objects and keys must have the same length");var m=e.length,v=v&&d?e.map(jr(v)):e;return o.core.mutate({trans:u,type:"add",keys:a,values:v,wantResults:s}).then(function(w){var f=w.numFailures,k=w.results,g=w.lastResult,w=w.failures;if(f===0)return s?k:g;throw new Ve("".concat(o.name,".bulkAdd(): ").concat(f," of ").concat(m," operations failed"),w)})})},Oe.prototype.bulkPut=function(e,t,r){var o=this,a=Array.isArray(t)?t:void 0,s=(r=r||(a?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",function(u){var v=o.schema.primKey,d=v.auto,v=v.keyPath;if(v&&a)throw new te.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==e.length)throw new te.InvalidArgument("Arguments objects and keys must have the same length");var m=e.length,v=v&&d?e.map(jr(v)):e;return o.core.mutate({trans:u,type:"put",keys:a,values:v,wantResults:s}).then(function(w){var f=w.numFailures,k=w.results,g=w.lastResult,w=w.failures;if(f===0)return s?k:g;throw new Ve("".concat(o.name,".bulkPut(): ").concat(f," of ").concat(m," operations failed"),w)})})},Oe.prototype.bulkUpdate=function(e){var t=this,r=this.core,o=e.map(function(u){return u.key}),a=e.map(function(u){return u.changes}),s=[];return this._trans("readwrite",function(u){return r.getMany({trans:u,keys:o,cache:"clone"}).then(function(d){var m=[],v=[];e.forEach(function(f,k){var g=f.key,w=f.changes,_=d[k];if(_){for(var b=0,C=Object.keys(w);b<C.length;b++){var P=C[b],E=w[P];if(P===t.schema.primKey.keyPath){if(we(E,g)!==0)throw new te.Constraint("Cannot update primary key in bulkUpdate()")}else L(_,P,E)}s.push(k),m.push(g),v.push(_)}});var x=m.length;return r.mutate({trans:u,type:"put",keys:m,values:v,updates:{keys:o,changeSpecs:a}}).then(function(f){var k=f.numFailures,g=f.failures;if(k===0)return x;for(var w=0,_=Object.keys(g);w<_.length;w++){var b,C=_[w],P=s[Number(C)];P!=null&&(b=g[C],delete g[C],g[P]=b)}throw new Ve("".concat(t.name,".bulkUpdate(): ").concat(k," of ").concat(x," operations failed"),g)})})})},Oe.prototype.bulkDelete=function(e){var t=this,r=e.length;return this._trans("readwrite",function(o){return t.core.mutate({trans:o,type:"delete",keys:e})}).then(function(u){var a=u.numFailures,s=u.lastResult,u=u.failures;if(a===0)return s;throw new Ve("".concat(t.name,".bulkDelete(): ").concat(a," of ").concat(r," operations failed"),u)})},Oe);function Oe(){}function sr(e){function t(u,d){if(d){for(var m=arguments.length,v=new Array(m-1);--m;)v[m-1]=arguments[m];return r[u].subscribe.apply(null,v),e}if(typeof u=="string")return r[u]}var r={};t.addEventType=s;for(var o=1,a=arguments.length;o<a;++o)s(arguments[o]);return t;function s(u,d,m){if(typeof u!="object"){var v;d=d||Pi;var x={subscribers:[],fire:m=m||_e,subscribe:function(f){x.subscribers.indexOf(f)===-1&&(x.subscribers.push(f),x.fire=d(x.fire,f))},unsubscribe:function(f){x.subscribers=x.subscribers.filter(function(k){return k!==f}),x.fire=x.subscribers.reduce(d,m)}};return r[u]=t[u]=x}y(v=u).forEach(function(f){var k=v[f];if(S(k))s(f,v[f][0],v[f][1]);else{if(k!=="asap")throw new te.InvalidArgument("Invalid event config");var g=s(f,rr,function(){for(var w=arguments.length,_=new Array(w);w--;)_[w]=arguments[w];g.subscribers.forEach(function(b){de(function(){b.apply(null,_)})})})}})}}function lr(e,t){return j(t).from({prototype:e}),t}function Vt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Cn(e,t){e.filter=It(e.filter,t)}function An(e,t,r){var o=e.replayFilter;e.replayFilter=o?function(){return It(o(),t())}:t,e.justLimit=r&&!o}function Kr(e,t){if(e.isPrimKey)return t.primaryKey;var r=t.getIndexByKeyPath(e.index);if(!r)throw new te.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function Go(e,t,r){var o=Kr(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:o,range:e.range}})}function Nr(e,t,r,o){var a=e.replayFilter?It(e.filter,e.replayFilter()):e.filter;if(e.or){var s={},u=function(d,m,v){var x,f;a&&!a(m,v,function(k){return m.stop(k)},function(k){return m.fail(k)})||((f=""+(x=m.primaryKey))=="[object ArrayBuffer]"&&(f=""+new Uint8Array(x)),B(s,f)||(s[f]=!0,t(d,m,v)))};return Promise.all([e.or._iterate(u,r),Vo(Go(e,o,r),e.algorithm,u,!e.keysOnly&&e.valueMapper)])}return Vo(Go(e,o,r),It(e.algorithm,a),t,!e.keysOnly&&e.valueMapper)}function Vo(e,t,r,o){var a=Me(o?function(s,u,d){return r(o(s),u,d)}:r);return e.then(function(s){if(s)return s.start(function(){var u=function(){return s.continue()};t&&!t(s,function(d){return u=d},function(d){s.stop(d),u=_e},function(d){s.fail(d),u=_e})||a(s.value,s,function(d){return u=d}),u()})})}var cr=($o.prototype.execute=function(e){var t=this["@@propmod"];if(t.add!==void 0){var r=t.add;if(S(r))return p(p([],S(e)?e:[],!0),r).sort();if(typeof r=="number")return(Number(e)||0)+r;if(typeof r=="bigint")try{return BigInt(e)+r}catch{return BigInt(0)+r}throw new TypeError("Invalid term ".concat(r))}if(t.remove!==void 0){var o=t.remove;if(S(o))return S(e)?e.filter(function(a){return!o.includes(a)}).sort():[];if(typeof o=="number")return Number(e)-o;if(typeof o=="bigint")try{return BigInt(e)-o}catch{return BigInt(0)-o}throw new TypeError("Invalid subtrahend ".concat(o))}return r=(r=t.replacePrefix)===null||r===void 0?void 0:r[0],r&&typeof e=="string"&&e.startsWith(r)?t.replacePrefix[1]+e.substring(r.length):e},$o);function $o(e){this["@@propmod"]=e}var Ri=(ke.prototype._read=function(e,t){var r=this._ctx;return r.error?r.table._trans(null,Re.bind(null,r.error)):r.table._trans("readonly",e).then(t)},ke.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,Re.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},ke.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=It(t.algorithm,e)},ke.prototype._iterate=function(e,t){return Nr(this._ctx,e,t,this._ctx.table.core)},ke.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&A(r,e),t._ctx=r,t},ke.prototype.raw=function(){return this._ctx.valueMapper=null,this},ke.prototype.each=function(e){var t=this._ctx;return this._read(function(r){return Nr(t,e,r,t.table.core)})},ke.prototype.count=function(e){var t=this;return this._read(function(r){var o=t._ctx,a=o.table.core;if(Vt(o,!0))return a.count({trans:r,query:{index:Kr(o,a.schema),range:o.range}}).then(function(u){return Math.min(u,o.limit)});var s=0;return Nr(o,function(){return++s,!1},r,a).then(function(){return s})}).then(e)},ke.prototype.sortBy=function(e,t){var r=e.split(".").reverse(),o=r[0],a=r.length-1;function s(m,v){return v?s(m[r[v]],v-1):m[o]}var u=this._ctx.dir==="next"?1:-1;function d(m,v){return we(s(m,a),s(v,a))*u}return this.toArray(function(m){return m.sort(d)}).then(t)},ke.prototype.toArray=function(e){var t=this;return this._read(function(r){var o=t._ctx;if(o.dir==="next"&&Vt(o,!0)&&0<o.limit){var a=o.valueMapper,s=Kr(o,o.table.core.schema);return o.table.core.query({trans:r,limit:o.limit,values:!0,query:{index:s,range:o.range}}).then(function(d){return d=d.result,a?d.map(a):d})}var u=[];return Nr(o,function(d){return u.push(d)},r,o.table.core).then(function(){return u})},e)},ke.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,Vt(t)?An(t,function(){var r=e;return function(o,a){return r===0||(r===1?--r:a(function(){o.advance(r),r=0}),!1)}}):An(t,function(){var r=e;return function(){return--r<0}})),this},ke.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),An(this._ctx,function(){var t=e;return function(r,o,a){return--t<=0&&o(a),0<=t}},!0),this},ke.prototype.until=function(e,t){return Cn(this._ctx,function(r,o,a){return!e(r.value)||(o(a),t)}),this},ke.prototype.first=function(e){return this.limit(1).toArray(function(t){return t[0]}).then(e)},ke.prototype.last=function(e){return this.reverse().first(e)},ke.prototype.filter=function(e){var t;return Cn(this._ctx,function(r){return e(r.value)}),(t=this._ctx).isMatch=It(t.isMatch,e),this},ke.prototype.and=function(e){return this.filter(e)},ke.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},ke.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ke.prototype.desc=function(){return this.reverse()},ke.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(r,o){e(o.key,o)})},ke.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},ke.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(r,o){e(o.primaryKey,o)})},ke.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each(function(o,a){r.push(a.key)}).then(function(){return r}).then(e)},ke.prototype.primaryKeys=function(e){var t=this._ctx;if(t.dir==="next"&&Vt(t,!0)&&0<t.limit)return this._read(function(o){var a=Kr(t,t.table.core.schema);return t.table.core.query({trans:o,values:!1,limit:t.limit,query:{index:a,range:t.range}})}).then(function(o){return o.result}).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each(function(o,a){r.push(a.primaryKey)}).then(function(){return r}).then(e)},ke.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},ke.prototype.firstKey=function(e){return this.limit(1).keys(function(t){return t[0]}).then(e)},ke.prototype.lastKey=function(e){return this.reverse().firstKey(e)},ke.prototype.distinct=function(){var e=this._ctx,e=e.index&&e.table.schema.idxByName[e.index];if(!e||!e.multi)return this;var t={};return Cn(this._ctx,function(a){var o=a.primaryKey.toString(),a=B(t,o);return t[o]=!0,!a}),this},ke.prototype.modify=function(e){var t=this,r=this._ctx;return this._write(function(o){var a,s,u;u=typeof e=="function"?e:(a=y(e),s=a.length,function(b){for(var C=!1,P=0;P<s;++P){var E=a[P],O=e[E],K=M(b,E);O instanceof cr?(L(b,E,O.execute(K)),C=!0):K!==O&&(L(b,E,O),C=!0)}return C});var d=r.table.core,f=d.schema.primaryKey,m=f.outbound,v=f.extractKey,x=200,f=t.db._options.modifyChunkSize;f&&(x=typeof f=="object"?f[d.name]||f["*"]||200:f);function k(b,E){var P=E.failures,E=E.numFailures;w+=b-E;for(var O=0,K=y(P);O<K.length;O++){var F=K[O];g.push(P[F])}}var g=[],w=0,_=[];return t.clone().primaryKeys().then(function(b){function C(E){var O=Math.min(x,b.length-E);return d.getMany({trans:o,keys:b.slice(E,E+O),cache:"immutable"}).then(function(K){for(var F=[],N=[],D=m?[]:null,V=[],q=0;q<O;++q){var Y=K[q],pe={value:ie(Y),primKey:b[E+q]};u.call(pe,pe.value,pe)!==!1&&(pe.value==null?V.push(b[E+q]):m||we(v(Y),v(pe.value))===0?(N.push(pe.value),m&&D.push(b[E+q])):(V.push(b[E+q]),F.push(pe.value)))}return Promise.resolve(0<F.length&&d.mutate({trans:o,type:"add",values:F}).then(function(ve){for(var ye in ve.failures)V.splice(parseInt(ye),1);k(F.length,ve)})).then(function(){return(0<N.length||P&&typeof e=="object")&&d.mutate({trans:o,type:"put",keys:D,values:N,criteria:P,changeSpec:typeof e!="function"&&e,isAdditionalChunk:0<E}).then(function(ve){return k(N.length,ve)})}).then(function(){return(0<V.length||P&&e===Sn)&&d.mutate({trans:o,type:"delete",keys:V,criteria:P,isAdditionalChunk:0<E}).then(function(ve){return k(V.length,ve)})}).then(function(){return b.length>E+O&&C(E+x)})})}var P=Vt(r)&&r.limit===1/0&&(typeof e!="function"||e===Sn)&&{index:r.index,range:r.range};return C(0).then(function(){if(0<g.length)throw new ze("Error modifying one or more objects",g,w,_);return b.length})})})},ke.prototype.delete=function(){var e=this._ctx,t=e.range;return Vt(e)&&(e.isPrimKey||t.type===3)?this._write(function(r){var o=e.table.core.schema.primaryKey,a=t;return e.table.core.count({trans:r,query:{index:o,range:a}}).then(function(s){return e.table.core.mutate({trans:r,type:"deleteRange",range:a}).then(function(u){var d=u.failures;if(u.lastResult,u.results,u=u.numFailures,u)throw new ze("Could not delete some values",Object.keys(d).map(function(m){return d[m]}),s-u);return s-u})})}):this.modify(Sn)},ke);function ke(){}var Sn=function(e,t){return t.value=null};function ji(e,t){return e<t?-1:e===t?0:1}function Ki(e,t){return t<e?-1:e===t?0:1}function Xe(e,t,r){return e=e instanceof Wo?new e.Collection(e):e,e._ctx.error=new(r||TypeError)(t),e}function $t(e){return new e.Collection(e,function(){return Uo("")}).limit(0)}function zr(e,t,r,o){var a,s,u,d,m,v,x,f=r.length;if(!r.every(function(w){return typeof w=="string"}))return Xe(e,zo);function k(w){a=w==="next"?function(b){return b.toUpperCase()}:function(b){return b.toLowerCase()},s=w==="next"?function(b){return b.toLowerCase()}:function(b){return b.toUpperCase()},u=w==="next"?ji:Ki;var _=r.map(function(b){return{lower:s(b),upper:a(b)}}).sort(function(b,C){return u(b.lower,C.lower)});d=_.map(function(b){return b.upper}),m=_.map(function(b){return b.lower}),x=(v=w)==="next"?"":o}k("next"),e=new e.Collection(e,function(){return vt(d[0],m[f-1]+o)}),e._ondirectionchange=function(w){k(w)};var g=0;return e._addAlgorithm(function(w,_,b){var C=w.key;if(typeof C!="string")return!1;var P=s(C);if(t(P,m,g))return!0;for(var E=null,O=g;O<f;++O){var K=function(F,N,D,V,q,Y){for(var pe=Math.min(F.length,V.length),ve=-1,ye=0;ye<pe;++ye){var Je=N[ye];if(Je!==V[ye])return q(F[ye],D[ye])<0?F.substr(0,ye)+D[ye]+D.substr(ye+1):q(F[ye],V[ye])<0?F.substr(0,ye)+V[ye]+D.substr(ye+1):0<=ve?F.substr(0,ve)+N[ve]+D.substr(ve+1):null;q(F[ye],Je)<0&&(ve=ye)}return pe<V.length&&Y==="next"?F+D.substr(F.length):pe<F.length&&Y==="prev"?F.substr(0,D.length):ve<0?null:F.substr(0,ve)+V[ve]+D.substr(ve+1)}(C,P,d[O],m[O],u,v);K===null&&E===null?g=O+1:(E===null||0<u(E,K))&&(E=K)}return _(E!==null?function(){w.continue(E+x)}:b),!1}),e}function vt(e,t,r,o){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:o}}function Uo(e){return{type:1,lower:e,upper:e}}var Wo=(Object.defineProperty(Be.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Be.prototype.between=function(e,t,r,o){r=r!==!1,o=o===!0;try{return 0<this._cmp(e,t)||this._cmp(e,t)===0&&(r||o)&&(!r||!o)?$t(this):new this.Collection(this,function(){return vt(e,t,!r,!o)})}catch{return Xe(this,at)}},Be.prototype.equals=function(e){return e==null?Xe(this,at):new this.Collection(this,function(){return Uo(e)})},Be.prototype.above=function(e){return e==null?Xe(this,at):new this.Collection(this,function(){return vt(e,void 0,!0)})},Be.prototype.aboveOrEqual=function(e){return e==null?Xe(this,at):new this.Collection(this,function(){return vt(e,void 0,!1)})},Be.prototype.below=function(e){return e==null?Xe(this,at):new this.Collection(this,function(){return vt(void 0,e,!1,!0)})},Be.prototype.belowOrEqual=function(e){return e==null?Xe(this,at):new this.Collection(this,function(){return vt(void 0,e)})},Be.prototype.startsWith=function(e){return typeof e!="string"?Xe(this,zo):this.between(e,e+Mt,!0,!0)},Be.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):zr(this,function(t,r){return t.indexOf(r[0])===0},[e],Mt)},Be.prototype.equalsIgnoreCase=function(e){return zr(this,function(t,r){return t===r[0]},[e],"")},Be.prototype.anyOfIgnoreCase=function(){var e=xe.apply(fe,arguments);return e.length===0?$t(this):zr(this,function(t,r){return r.indexOf(t)!==-1},e,"")},Be.prototype.startsWithAnyOfIgnoreCase=function(){var e=xe.apply(fe,arguments);return e.length===0?$t(this):zr(this,function(t,r){return r.some(function(o){return t.indexOf(o)===0})},e,Mt)},Be.prototype.anyOf=function(){var e=this,t=xe.apply(fe,arguments),r=this._cmp;try{t.sort(r)}catch{return Xe(this,at)}if(t.length===0)return $t(this);var o=new this.Collection(this,function(){return vt(t[0],t[t.length-1])});o._ondirectionchange=function(s){r=s==="next"?e._ascending:e._descending,t.sort(r)};var a=0;return o._addAlgorithm(function(s,u,d){for(var m=s.key;0<r(m,t[a]);)if(++a===t.length)return u(d),!1;return r(m,t[a])===0||(u(function(){s.continue(t[a])}),!1)}),o},Be.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Be.prototype.noneOf=function(){var e=xe.apply(fe,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return Xe(this,at)}var t=e.reduce(function(r,o){return r?r.concat([[r[r.length-1][1],o]]):[[-1/0,o]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},Be.prototype.inAnyRange=function(C,t){var r=this,o=this._cmp,a=this._ascending,s=this._descending,u=this._min,d=this._max;if(C.length===0)return $t(this);if(!C.every(function(P){return P[0]!==void 0&&P[1]!==void 0&&a(P[0],P[1])<=0}))return Xe(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",te.InvalidArgument);var m=!t||t.includeLowers!==!1,v=t&&t.includeUppers===!0,x,f=a;function k(P,E){return f(P[0],E[0])}try{(x=C.reduce(function(P,E){for(var O=0,K=P.length;O<K;++O){var F=P[O];if(o(E[0],F[1])<0&&0<o(E[1],F[0])){F[0]=u(F[0],E[0]),F[1]=d(F[1],E[1]);break}}return O===K&&P.push(E),P},[])).sort(k)}catch{return Xe(this,at)}var g=0,w=v?function(P){return 0<a(P,x[g][1])}:function(P){return 0<=a(P,x[g][1])},_=m?function(P){return 0<s(P,x[g][0])}:function(P){return 0<=s(P,x[g][0])},b=w,C=new this.Collection(this,function(){return vt(x[0][0],x[x.length-1][1],!m,!v)});return C._ondirectionchange=function(P){f=P==="next"?(b=w,a):(b=_,s),x.sort(k)},C._addAlgorithm(function(P,E,O){for(var K,F=P.key;b(F);)if(++g===x.length)return E(O),!1;return!w(K=F)&&!_(K)||(r._cmp(F,x[g][1])===0||r._cmp(F,x[g][0])===0||E(function(){f===a?P.continue(x[g][0]):P.continue(x[g][1])}),!1)}),C},Be.prototype.startsWithAnyOf=function(){var e=xe.apply(fe,arguments);return e.every(function(t){return typeof t=="string"})?e.length===0?$t(this):this.inAnyRange(e.map(function(t){return[t,t+Mt]})):Xe(this,"startsWithAnyOf() only works with strings")},Be);function Be(){}function rt(e){return Me(function(t){return ur(t),e(t.target.error),!1})}function ur(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var dr="storagemutated",Pn="x-storagemutated-1",yt=sr(null,dr),Ni=(nt.prototype._lock=function(){return ae(!re.global),++this._reculock,this._reculock!==1||re.global||(re.lockOwnerFor=this),this},nt.prototype._unlock=function(){if(ae(!re.global),--this._reculock==0)for(re.global||(re.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{Ot(e[1],e[0])}catch{}}return this},nt.prototype._locked=function(){return this._reculock&&re.lockOwnerFor!==this},nt.prototype.create=function(e){var t=this;if(!this.mode)return this;var r=this.db.idbdb,o=this.db._state.dbOpenError;if(ae(!this.idbtrans),!e&&!r)switch(o&&o.name){case"DatabaseClosedError":throw new te.DatabaseClosed(o);case"MissingAPIError":throw new te.MissingAPI(o.message,o);default:throw new te.OpenFailed(o)}if(!this.active)throw new te.TransactionInactive;return ae(this._completion._state===null),(e=this.idbtrans=e||(this.db.core||r).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Me(function(a){ur(a),t._reject(e.error)}),e.onabort=Me(function(a){ur(a),t.active&&t._reject(new te.Abort(e.error)),t.active=!1,t.on("abort").fire(a)}),e.oncomplete=Me(function(){t.active=!1,t._resolve(),"mutatedParts"in e&&yt.storagemutated.fire(e.mutatedParts)}),this},nt.prototype._promise=function(e,t,r){var o=this;if(e==="readwrite"&&this.mode!=="readwrite")return Re(new te.ReadOnly("Transaction is readonly"));if(!this.active)return Re(new te.TransactionInactive);if(this._locked())return new U(function(s,u){o._blockedFuncs.push([function(){o._promise(e,t,r).then(s,u)},re])});if(r)return pt(function(){var s=new U(function(u,d){o._lock();var m=t(u,d,o);m&&m.then&&m.then(u,d)});return s.finally(function(){return o._unlock()}),s._lib=!0,s});var a=new U(function(s,u){var d=t(s,u,o);d&&d.then&&d.then(s,u)});return a._lib=!0,a},nt.prototype._root=function(){return this.parent?this.parent._root():this},nt.prototype.waitFor=function(e){var t,r=this._root(),o=U.resolve(e);r._waitingFor?r._waitingFor=r._waitingFor.then(function(){return o}):(r._waitingFor=o,r._waitingQueue=[],t=r.idbtrans.objectStore(r.storeNames[0]),function s(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(t.get(-1/0).onsuccess=s)}());var a=r._waitingFor;return new U(function(s,u){o.then(function(d){return r._waitingQueue.push(Me(s.bind(null,d)))},function(d){return r._waitingQueue.push(Me(u.bind(null,d)))}).finally(function(){r._waitingFor===a&&(r._waitingFor=null)})})},nt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new te.Abort))},nt.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(B(t,e))return t[e];var r=this.schema[e];if(!r)throw new te.NotFound("Table "+e+" not part of transaction");return r=new this.db.Table(e,r,this),r.core=this.db.core.table(e),t[e]=r},nt);function nt(){}function En(e,t,r,o,a,s,u){return{name:e,keyPath:t,unique:r,multi:o,auto:a,compound:s,src:(r&&!u?"&":"")+(o?"*":"")+(a?"++":"")+Yo(t)}}function Yo(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function On(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:(o=function(a){return[a.name,a]},r.reduce(function(a,s,u){return u=o(s,u),u&&(a[u[0]]=u[1]),a},{}))};var o}var fr=function(e){try{return e.only([[]]),fr=function(){return[[]]},[[]]}catch{return fr=function(){return Mt},Mt}};function Mn(e){return e==null?function(){}:typeof e=="string"?(t=e).split(".").length===1?function(r){return r[t]}:function(r){return M(r,t)}:function(r){return M(r,e)};var t}function Ho(e){return[].slice.call(e)}var zi=0;function hr(e){return e==null?":id":typeof e=="string"?e:"[".concat(e.join("+"),"]")}function Di(e,t,m){function o(b){if(b.type===3)return null;if(b.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var g=b.lower,w=b.upper,_=b.lowerOpen,b=b.upperOpen;return g===void 0?w===void 0?null:t.upperBound(w,!!b):w===void 0?t.lowerBound(g,!!_):t.bound(g,w,!!_,!!b)}function a(k){var g,w=k.name;return{name:w,schema:k,mutate:function(_){var b=_.trans,C=_.type,P=_.keys,E=_.values,O=_.range;return new Promise(function(K,F){K=Me(K);var N=b.objectStore(w),D=N.keyPath==null,V=C==="put"||C==="add";if(!V&&C!=="delete"&&C!=="deleteRange")throw new Error("Invalid operation type: "+C);var q,Y=(P||E||{length:1}).length;if(P&&E&&P.length!==E.length)throw new Error("Given keys array must have same length as given values array.");if(Y===0)return K({numFailures:0,failures:{},results:[],lastResult:void 0});function pe(Ye){++Je,ur(Ye)}var ve=[],ye=[],Je=0;if(C==="deleteRange"){if(O.type===4)return K({numFailures:Je,failures:ye,results:[],lastResult:void 0});O.type===3?ve.push(q=N.clear()):ve.push(q=N.delete(o(O)))}else{var D=V?D?[E,P]:[E,null]:[P,null],he=D[0],Ue=D[1];if(V)for(var We=0;We<Y;++We)ve.push(q=Ue&&Ue[We]!==void 0?N[C](he[We],Ue[We]):N[C](he[We])),q.onerror=pe;else for(We=0;We<Y;++We)ve.push(q=N[C](he[We])),q.onerror=pe}function Qr(Ye){Ye=Ye.target.result,ve.forEach(function(jt,Yn){return jt.error!=null&&(ye[Yn]=jt.error)}),K({numFailures:Je,failures:ye,results:C==="delete"?P:ve.map(function(jt){return jt.result}),lastResult:Ye})}q.onerror=function(Ye){pe(Ye),Qr(Ye)},q.onsuccess=Qr})},getMany:function(_){var b=_.trans,C=_.keys;return new Promise(function(P,E){P=Me(P);for(var O,K=b.objectStore(w),F=C.length,N=new Array(F),D=0,V=0,q=function(ve){ve=ve.target,N[ve._pos]=ve.result,++V===D&&P(N)},Y=rt(E),pe=0;pe<F;++pe)C[pe]!=null&&((O=K.get(C[pe]))._pos=pe,O.onsuccess=q,O.onerror=Y,++D);D===0&&P(N)})},get:function(_){var b=_.trans,C=_.key;return new Promise(function(P,E){P=Me(P);var O=b.objectStore(w).get(C);O.onsuccess=function(K){return P(K.target.result)},O.onerror=rt(E)})},query:(g=v,function(_){return new Promise(function(b,C){b=Me(b);var P,E,O,D=_.trans,K=_.values,F=_.limit,q=_.query,N=F===1/0?void 0:F,V=q.index,q=q.range,D=D.objectStore(w),V=V.isPrimaryKey?D:D.index(V.name),q=o(q);if(F===0)return b({result:[]});g?((N=K?V.getAll(q,N):V.getAllKeys(q,N)).onsuccess=function(Y){return b({result:Y.target.result})},N.onerror=rt(C)):(P=0,E=!K&&"openKeyCursor"in V?V.openKeyCursor(q):V.openCursor(q),O=[],E.onsuccess=function(Y){var pe=E.result;return pe?(O.push(K?pe.value:pe.primaryKey),++P===F?b({result:O}):void pe.continue()):b({result:O})},E.onerror=rt(C))})}),openCursor:function(_){var b=_.trans,C=_.values,P=_.query,E=_.reverse,O=_.unique;return new Promise(function(K,F){K=Me(K);var V=P.index,N=P.range,D=b.objectStore(w),D=V.isPrimaryKey?D:D.index(V.name),V=E?O?"prevunique":"prev":O?"nextunique":"next",q=!C&&"openKeyCursor"in D?D.openKeyCursor(o(N),V):D.openCursor(o(N),V);q.onerror=rt(F),q.onsuccess=Me(function(Y){var pe,ve,ye,Je,he=q.result;he?(he.___id=++zi,he.done=!1,pe=he.continue.bind(he),ve=(ve=he.continuePrimaryKey)&&ve.bind(he),ye=he.advance.bind(he),Je=function(){throw new Error("Cursor not stopped")},he.trans=b,he.stop=he.continue=he.continuePrimaryKey=he.advance=function(){throw new Error("Cursor not started")},he.fail=Me(F),he.next=function(){var Ue=this,We=1;return this.start(function(){return We--?Ue.continue():Ue.stop()}).then(function(){return Ue})},he.start=function(Ue){function We(){if(q.result)try{Ue()}catch(Ye){he.fail(Ye)}else he.done=!0,he.start=function(){throw new Error("Cursor behind last entry")},he.stop()}var Qr=new Promise(function(Ye,jt){Ye=Me(Ye),q.onerror=rt(jt),he.fail=jt,he.stop=function(Yn){he.stop=he.continue=he.continuePrimaryKey=he.advance=Je,Ye(Yn)}});return q.onsuccess=Me(function(Ye){q.onsuccess=We,We()}),he.continue=pe,he.continuePrimaryKey=ve,he.advance=ye,We(),Qr},K(he)):K(null)},F)})},count:function(_){var b=_.query,C=_.trans,P=b.index,E=b.range;return new Promise(function(O,K){var F=C.objectStore(w),N=P.isPrimaryKey?F:F.index(P.name),F=o(E),N=F?N.count(F):N.count();N.onsuccess=Me(function(D){return O(D.target.result)}),N.onerror=rt(K)})}}}var s,u,d,x=(u=m,d=Ho((s=e).objectStoreNames),{schema:{name:s.name,tables:d.map(function(k){return u.objectStore(k)}).map(function(k){var g=k.keyPath,b=k.autoIncrement,w=S(g),_={},b={name:k.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:g==null,compound:w,keyPath:g,autoIncrement:b,unique:!0,extractKey:Mn(g)},indexes:Ho(k.indexNames).map(function(C){return k.index(C)}).map(function(O){var P=O.name,E=O.unique,K=O.multiEntry,O=O.keyPath,K={name:P,compound:S(O),keyPath:O,unique:E,multiEntry:K,extractKey:Mn(O)};return _[hr(O)]=K}),getIndexByKeyPath:function(C){return _[hr(C)]}};return _[":id"]=b.primaryKey,g!=null&&(_[hr(g)]=b.primaryKey),b})},hasGetAll:0<d.length&&"getAll"in u.objectStore(d[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),m=x.schema,v=x.hasGetAll,x=m.tables.map(a),f={};return x.forEach(function(k){return f[k.name]=k}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(k){if(!f[k])throw new Error("Table '".concat(k,"' not found"));return f[k]},MIN_KEY:-1/0,MAX_KEY:fr(t),schema:m}}function Bi(e,t,r,o){var a=r.IDBKeyRange;return r.indexedDB,{dbcore:(o=Di(t,a,o),e.dbcore.reduce(function(s,u){return u=u.create,c(c({},s),u(s))},o))}}function Dr(e,o){var r=o.db,o=Bi(e._middlewares,r,e._deps,o);e.core=o.dbcore,e.tables.forEach(function(a){var s=a.name;e.core.schema.tables.some(function(u){return u.name===s})&&(a.core=e.core.table(s),e[s]instanceof e.Table&&(e[s].core=a.core))})}function Br(e,t,r,o){r.forEach(function(a){var s=o[a];t.forEach(function(u){var d=function m(v,x){return Z(v,x)||(v=I(v))&&m(v,x)}(u,a);(!d||"value"in d&&d.value===void 0)&&(u===e.Transaction.prototype||u instanceof e.Transaction?R(u,a,{get:function(){return this.table(a)},set:function(m){ce(this,a,{value:m,writable:!0,configurable:!0,enumerable:!0})}}):u[a]=new e.Table(a,s))})})}function In(e,t){t.forEach(function(r){for(var o in r)r[o]instanceof e.Table&&delete r[o]})}function qi(e,t){return e._cfg.version-t._cfg.version}function Fi(e,t,r,o){var a=e._dbSchema;r.objectStoreNames.contains("$meta")&&!a.$meta&&(a.$meta=On("$meta",Xo("")[0],[]),e._storeNames.push("$meta"));var s=e._createTransaction("readwrite",e._storeNames,a);s.create(r),s._completion.catch(o);var u=s._reject.bind(s),d=re.transless||re;pt(function(){return re.trans=s,re.transless=d,t!==0?(Dr(e,r),v=t,((m=s).storeNames.includes("$meta")?m.table("$meta").get("version").then(function(x){return x??v}):U.resolve(v)).then(function(x){return k=x,g=s,w=r,_=[],x=(f=e)._versions,b=f._dbSchema=Fr(0,f.idbdb,w),(x=x.filter(function(C){return C._cfg.version>=k})).length!==0?(x.forEach(function(C){_.push(function(){var P=b,E=C._cfg.dbschema;Lr(f,P,w),Lr(f,E,w),b=f._dbSchema=E;var O=Tn(P,E);O.add.forEach(function(V){Rn(w,V[0],V[1].primKey,V[1].indexes)}),O.change.forEach(function(V){if(V.recreate)throw new te.Upgrade("Not yet support for changing primary key");var q=w.objectStore(V.name);V.add.forEach(function(Y){return qr(q,Y)}),V.change.forEach(function(Y){q.deleteIndex(Y.name),qr(q,Y)}),V.del.forEach(function(Y){return q.deleteIndex(Y)})});var K=C._cfg.contentUpgrade;if(K&&C._cfg.version>k){Dr(f,w),g._memoizedTables={};var F=W(E);O.del.forEach(function(V){F[V]=P[V]}),In(f,[f.Transaction.prototype]),Br(f,[f.Transaction.prototype],y(F),F),g.schema=F;var N,D=Ge(K);return D&&Lt(),O=U.follow(function(){var V;(N=K(g))&&D&&(V=mt.bind(null,null),N.then(V,V))}),N&&typeof N.then=="function"?U.resolve(N):O.then(function(){return N})}}),_.push(function(P){var E,O,K=C._cfg.dbschema;E=K,O=P,[].slice.call(O.db.objectStoreNames).forEach(function(F){return E[F]==null&&O.db.deleteObjectStore(F)}),In(f,[f.Transaction.prototype]),Br(f,[f.Transaction.prototype],f._storeNames,f._dbSchema),g.schema=f._dbSchema}),_.push(function(P){f.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(f.idbdb.version/10)===C._cfg.version?(f.idbdb.deleteObjectStore("$meta"),delete f._dbSchema.$meta,f._storeNames=f._storeNames.filter(function(E){return E!=="$meta"})):P.objectStore("$meta").put(C._cfg.version,"version"))})}),function C(){return _.length?U.resolve(_.shift()(g.idbtrans)).then(C):U.resolve()}().then(function(){Qo(b,w)})):U.resolve();var f,k,g,w,_,b}).catch(u)):(y(a).forEach(function(x){Rn(r,x,a[x].primKey,a[x].indexes)}),Dr(e,r),void U.follow(function(){return e.on.populate.fire(s)}).catch(u));var m,v})}function Li(e,t){Qo(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var r=Fr(0,e.idbdb,t);Lr(e,e._dbSchema,t);for(var o=0,a=Tn(r,e._dbSchema).change;o<a.length;o++){var s=function(u){if(u.change.length||u.recreate)return console.warn("Unable to patch indexes of table ".concat(u.name," because it has changes on the type of index or primary key.")),{value:void 0};var d=t.objectStore(u.name);u.add.forEach(function(m){tt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(u.name,".").concat(m.src)),qr(d,m)})}(a[o]);if(typeof s=="object")return s.value}}function Tn(e,t){var r,o={del:[],add:[],change:[]};for(r in e)t[r]||o.del.push(r);for(r in t){var a=e[r],s=t[r];if(a){var u={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(a.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||a.primKey.auto!==s.primKey.auto)u.recreate=!0,o.change.push(u);else{var d=a.idxByName,m=s.idxByName,v=void 0;for(v in d)m[v]||u.del.push(v);for(v in m){var x=d[v],f=m[v];x?x.src!==f.src&&u.change.push(f):u.add.push(f)}(0<u.del.length||0<u.add.length||0<u.change.length)&&o.change.push(u)}}else o.add.push([r,s])}return o}function Rn(e,t,r,o){var a=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return o.forEach(function(s){return qr(a,s)}),a}function Qo(e,t){y(e).forEach(function(r){t.db.objectStoreNames.contains(r)||(tt&&console.debug("Dexie: Creating missing table",r),Rn(t,r,e[r].primKey,e[r].indexes))})}function qr(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Fr(e,t,r){var o={};return ne(t.objectStoreNames,0).forEach(function(a){for(var s=r.objectStore(a),u=En(Yo(v=s.keyPath),v||"",!0,!1,!!s.autoIncrement,v&&typeof v!="string",!0),d=[],m=0;m<s.indexNames.length;++m){var x=s.index(s.indexNames[m]),v=x.keyPath,x=En(x.name,v,!!x.unique,!!x.multiEntry,!1,v&&typeof v!="string",!1);d.push(x)}o[a]=On(a,u,d)}),o}function Lr(e,t,r){for(var o=r.db.objectStoreNames,a=0;a<o.length;++a){var s=o[a],u=r.objectStore(s);e._hasGetAll="getAll"in u;for(var d=0;d<u.indexNames.length;++d){var m=u.indexNames[d],v=u.index(m).keyPath,x=typeof v=="string"?v:"["+ne(v).join("+")+"]";!t[s]||(v=t[s].idxByName[x])&&(v.name=m,delete t[s].idxByName[x],t[s].idxByName[m]=v)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&h.WorkerGlobalScope&&h instanceof h.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function Xo(e){return e.split(",").map(function(t,r){var o=(t=t.trim()).replace(/([&*]|\+\+)/g,""),a=/^\[/.test(o)?o.match(/^\[(.*)\]$/)[1].split("+"):o;return En(o,a||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),S(a),r===0)})}var Gi=(Gr.prototype._parseStoresSpec=function(e,t){y(e).forEach(function(r){if(e[r]!==null){var o=Xo(e[r]),a=o.shift();if(a.unique=!0,a.multi)throw new te.Schema("Primary key cannot be multi-valued");o.forEach(function(s){if(s.auto)throw new te.Schema("Only primary key can be marked as autoIncrement (++)");if(!s.keyPath)throw new te.Schema("Index must have a name and cannot be an empty string")}),t[r]=On(r,a,o)}})},Gr.prototype.stores=function(r){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?A(this._cfg.storesSource,r):r;var r=t._versions,o={},a={};return r.forEach(function(s){A(o,s._cfg.storesSource),a=s._cfg.dbschema={},s._parseStoresSpec(o,a)}),t._dbSchema=a,In(t,[t._allTables,t,t.Transaction.prototype]),Br(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],y(a),a),t._storeNames=y(a),this},Gr.prototype.upgrade=function(e){return this._cfg.contentUpgrade=hn(this._cfg.contentUpgrade||_e,e),this},Gr);function Gr(){}function jn(e,t){var r=e._dbNamesDB;return r||(r=e._dbNamesDB=new it(Rr,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),r.table("dbnames")}function Kn(e){return e&&typeof e.databases=="function"}function Nn(e){return pt(function(){return re.letThrough=!0,e()})}function zn(e){return!("from"in e)}var $e=function(e,t){if(!this){var r=new $e;return e&&"d"in e&&A(r,e),r}A(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function pr(e,t,r){var o=we(t,r);if(!isNaN(o)){if(0<o)throw RangeError();if(zn(e))return A(e,{from:t,to:r,d:1});var a=e.l,o=e.r;if(we(r,e.from)<0)return a?pr(a,t,r):e.l={from:t,to:r,d:1,l:null,r:null},Zo(e);if(0<we(t,e.to))return o?pr(o,t,r):e.r={from:t,to:r,d:1,l:null,r:null},Zo(e);we(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),0<we(r,e.to)&&(e.to=r,e.r=null,e.d=e.l?e.l.d+1:1),r=!e.r,a&&!e.l&&mr(e,a),o&&r&&mr(e,o)}}function mr(e,t){zn(t)||function r(o,m){var s=m.from,u=m.to,d=m.l,m=m.r;pr(o,s,u),d&&r(o,d),m&&r(o,m)}(e,t)}function Jo(e,t){var r=Vr(t),o=r.next();if(o.done)return!1;for(var a=o.value,s=Vr(e),u=s.next(a.from),d=u.value;!o.done&&!u.done;){if(we(d.from,a.to)<=0&&0<=we(d.to,a.from))return!0;we(a.from,d.from)<0?a=(o=r.next(d.from)).value:d=(u=s.next(a.from)).value}return!1}function Vr(e){var t=zn(e)?null:{s:0,n:e};return{next:function(r){for(var o=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,o)for(;t.n.l&&we(r,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!o||we(r,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Zo(e){var t,r,o=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((r=e.l)===null||r===void 0?void 0:r.d)||0),a=1<o?"r":o<-1?"l":"";a&&(t=a=="r"?"l":"r",r=c({},e),o=e[a],e.from=o.from,e.to=o.to,e[a]=o[a],r[a]=o[t],(e[t]=r).d=ea(r)),e.d=ea(e)}function ea(r){var t=r.r,r=r.l;return(t?r?Math.max(t.d,r.d):t.d:r?r.d:0)+1}function $r(e,t){return y(t).forEach(function(r){e[r]?mr(e[r],t[r]):e[r]=function o(a){var s,u,d={};for(s in a)B(a,s)&&(u=a[s],d[s]=!u||typeof u!="object"||Ne.has(u.constructor)?u:o(u));return d}(t[r])}),e}function Dn(e,t){return e.all||t.all||Object.keys(e).some(function(r){return t[r]&&Jo(t[r],e[r])})}G($e.prototype,((Ze={add:function(e){return mr(this,e),this},addKey:function(e){return pr(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(r){return pr(t,r,r)}),this},hasKey:function(e){var t=Vr(this).next(e).value;return t&&we(t.from,e)<=0&&0<=we(t.to,e)}})[$]=function(){return Vr(this)},Ze));var Tt={},Bn={},qn=!1;function Ur(e){$r(Bn,e),qn||(qn=!0,setTimeout(function(){qn=!1,Fn(Bn,!(Bn={}))},0))}function Fn(e,t){t===void 0&&(t=!1);var r=new Set;if(e.all)for(var o=0,a=Object.values(Tt);o<a.length;o++)ta(u=a[o],e,r,t);else for(var s in e){var u,d=/^idb\:\/\/(.*)\/(.*)\//.exec(s);d&&(s=d[1],d=d[2],(u=Tt["idb://".concat(s,"/").concat(d)])&&ta(u,e,r,t))}r.forEach(function(m){return m()})}function ta(e,t,r,o){for(var a=[],s=0,u=Object.entries(e.queries.query);s<u.length;s++){for(var d=u[s],m=d[0],v=[],x=0,f=d[1];x<f.length;x++){var k=f[x];Dn(t,k.obsSet)?k.subscribers.forEach(function(b){return r.add(b)}):o&&v.push(k)}o&&a.push([m,v])}if(o)for(var g=0,w=a;g<w.length;g++){var _=w[g],m=_[0],v=_[1];e.queries.query[m]=v}}function Vi(e){var t=e._state,r=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?Re(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var o=t.openCanceller,a=Math.round(10*e.verno),s=!1;function u(){if(t.openCanceller!==o)throw new te.DatabaseClosed("db.open() was cancelled")}function d(){return new U(function(k,g){if(u(),!r)throw new te.MissingAPI;var w=e.name,_=t.autoSchema||!a?r.open(w):r.open(w,a);if(!_)throw new te.MissingAPI;_.onerror=rt(g),_.onblocked=Me(e._fireOnBlocked),_.onupgradeneeded=Me(function(b){var C;x=_.transaction,t.autoSchema&&!e._options.allowEmptyDB?(_.onerror=ur,x.abort(),_.result.close(),(C=r.deleteDatabase(w)).onsuccess=C.onerror=Me(function(){g(new te.NoSuchDatabase("Database ".concat(w," doesnt exist")))})):(x.onerror=rt(g),b=b.oldVersion>Math.pow(2,62)?0:b.oldVersion,f=b<1,e.idbdb=_.result,s&&Li(e,x),Fi(e,b/10,x,g))},g),_.onsuccess=Me(function(){x=null;var b,C,P,E,O,K=e.idbdb=_.result,F=ne(K.objectStoreNames);if(0<F.length)try{var N=K.transaction((E=F).length===1?E[0]:E,"readonly");if(t.autoSchema)C=K,P=N,(b=e).verno=C.version/10,P=b._dbSchema=Fr(0,C,P),b._storeNames=ne(C.objectStoreNames,0),Br(b,[b._allTables],y(P),P);else if(Lr(e,e._dbSchema,N),((O=Tn(Fr(0,(O=e).idbdb,N),O._dbSchema)).add.length||O.change.some(function(D){return D.add.length||D.change.length}))&&!s)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),K.close(),a=K.version+1,s=!0,k(d());Dr(e,N)}catch{}Gt.push(e),K.onversionchange=Me(function(D){t.vcFired=!0,e.on("versionchange").fire(D)}),K.onclose=Me(function(D){e.on("close").fire(D)}),f&&(O=e._deps,N=w,K=O.indexedDB,O=O.IDBKeyRange,Kn(K)||N===Rr||jn(K,O).put({name:N}).catch(_e)),k()},g)}).catch(function(k){switch(k?.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),d();break;case"VersionError":if(0<a)return a=0,d()}return U.reject(k)})}var m,v=t.dbReadyResolve,x=null,f=!1;return U.race([o,(typeof navigator>"u"?U.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(k){function g(){return indexedDB.databases().finally(k)}m=setInterval(g,100),g()}).finally(function(){return clearInterval(m)}):Promise.resolve()).then(d)]).then(function(){return u(),t.onReadyBeingFired=[],U.resolve(Nn(function(){return e.on.ready.fire(e.vip)})).then(function k(){if(0<t.onReadyBeingFired.length){var g=t.onReadyBeingFired.reduce(hn,_e);return t.onReadyBeingFired=[],U.resolve(Nn(function(){return g(e.vip)})).then(k)}})}).finally(function(){t.openCanceller===o&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(k){t.dbOpenError=k;try{x&&x.abort()}catch{}return o===t.openCanceller&&e._close(),Re(k)}).finally(function(){t.openComplete=!0,v()}).then(function(){var k;return f&&(k={},e.tables.forEach(function(g){g.schema.indexes.forEach(function(w){w.name&&(k["idb://".concat(e.name,"/").concat(g.name,"/").concat(w.name)]=new $e(-1/0,[[[]]]))}),k["idb://".concat(e.name,"/").concat(g.name,"/")]=k["idb://".concat(e.name,"/").concat(g.name,"/:dels")]=new $e(-1/0,[[[]]])}),yt(dr).fire(k),Fn(k,!0)),e})}function Ln(e){function t(s){return e.next(s)}var r=a(t),o=a(function(s){return e.throw(s)});function a(s){return function(m){var d=s(m),m=d.value;return d.done?m:m&&typeof m.then=="function"?m.then(r,o):S(m)?Promise.all(m).then(r,o):r(m)}}return a(t)()}function Wr(e,t,r){for(var o=S(e)?e.slice():[e],a=0;a<r;++a)o.push(t);return o}var $i={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return c(c({},e),{table:function(t){var r=e.table(t),o=r.schema,a={},s=[];function u(f,k,g){var w=hr(f),_=a[w]=a[w]||[],b=f==null?0:typeof f=="string"?1:f.length,C=0<k,C=c(c({},g),{name:C?"".concat(w,"(virtual-from:").concat(g.name,")"):g.name,lowLevelIndex:g,isVirtual:C,keyTail:k,keyLength:b,extractKey:Mn(f),unique:!C&&g.unique});return _.push(C),C.isPrimaryKey||s.push(C),1<b&&u(b===2?f[0]:f.slice(0,b-1),k+1,g),_.sort(function(P,E){return P.keyTail-E.keyTail}),C}t=u(o.primaryKey.keyPath,0,o.primaryKey),a[":id"]=[t];for(var d=0,m=o.indexes;d<m.length;d++){var v=m[d];u(v.keyPath,0,v)}function x(f){var k,g=f.query.index;return g.isVirtual?c(c({},f),{query:{index:g.lowLevelIndex,range:(k=f.query.range,g=g.keyTail,{type:k.type===1?2:k.type,lower:Wr(k.lower,k.lowerOpen?e.MAX_KEY:e.MIN_KEY,g),lowerOpen:!0,upper:Wr(k.upper,k.upperOpen?e.MIN_KEY:e.MAX_KEY,g),upperOpen:!0})}}):f}return c(c({},r),{schema:c(c({},o),{primaryKey:t,indexes:s,getIndexByKeyPath:function(f){return(f=a[hr(f)])&&f[0]}}),count:function(f){return r.count(x(f))},query:function(f){return r.query(x(f))},openCursor:function(f){var k=f.query.index,g=k.keyTail,w=k.isVirtual,_=k.keyLength;return w?r.openCursor(x(f)).then(function(C){return C&&b(C)}):r.openCursor(f);function b(C){return Object.create(C,{continue:{value:function(P){P!=null?C.continue(Wr(P,f.reverse?e.MAX_KEY:e.MIN_KEY,g)):f.unique?C.continue(C.key.slice(0,_).concat(f.reverse?e.MIN_KEY:e.MAX_KEY,g)):C.continue()}},continuePrimaryKey:{value:function(P,E){C.continuePrimaryKey(Wr(P,e.MAX_KEY,g),E)}},primaryKey:{get:function(){return C.primaryKey}},key:{get:function(){var P=C.key;return _===1?P[0]:P.slice(0,_)}},value:{get:function(){return C.value}}})}}})}})}};function Gn(e,t,r,o){return r=r||{},o=o||"",y(e).forEach(function(a){var s,u,d;B(t,a)?(s=e[a],u=t[a],typeof s=="object"&&typeof u=="object"&&s&&u?(d=ue(s))!==ue(u)?r[o+a]=t[a]:d==="Object"?Gn(s,u,r,o+a+"."):s!==u&&(r[o+a]=t[a]):s!==u&&(r[o+a]=t[a])):r[o+a]=void 0}),y(t).forEach(function(a){B(e,a)||(r[o+a]=t[a])}),r}function Vn(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var Ui={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return c(c({},e),{table:function(t){var r=e.table(t),o=r.schema.primaryKey;return c(c({},r),{mutate:function(a){var s=re.trans,u=s.table(t).hook,d=u.deleting,m=u.creating,v=u.updating;switch(a.type){case"add":if(m.fire===_e)break;return s._promise("readwrite",function(){return x(a)},!0);case"put":if(m.fire===_e&&v.fire===_e)break;return s._promise("readwrite",function(){return x(a)},!0);case"delete":if(d.fire===_e)break;return s._promise("readwrite",function(){return x(a)},!0);case"deleteRange":if(d.fire===_e)break;return s._promise("readwrite",function(){return function f(k,g,w){return r.query({trans:k,values:!1,query:{index:o,range:g},limit:w}).then(function(_){var b=_.result;return x({type:"delete",keys:b,trans:k}).then(function(C){return 0<C.numFailures?Promise.reject(C.failures[0]):b.length<w?{failures:[],numFailures:0,lastResult:void 0}:f(k,c(c({},g),{lower:b[b.length-1],lowerOpen:!0}),w)})})}(a.trans,a.range,1e4)},!0)}return r.mutate(a);function x(f){var k,g,w,_=re.trans,b=f.keys||Vn(o,f);if(!b)throw new Error("Keys missing");return(f=f.type==="add"||f.type==="put"?c(c({},f),{keys:b}):c({},f)).type!=="delete"&&(f.values=p([],f.values)),f.keys&&(f.keys=p([],f.keys)),k=r,w=b,((g=f).type==="add"?Promise.resolve([]):k.getMany({trans:g.trans,keys:w,cache:"immutable"})).then(function(C){var P=b.map(function(E,O){var K,F,N,D=C[O],V={onerror:null,onsuccess:null};return f.type==="delete"?d.fire.call(V,E,D,_):f.type==="add"||D===void 0?(K=m.fire.call(V,E,f.values[O],_),E==null&&K!=null&&(f.keys[O]=E=K,o.outbound||L(f.values[O],o.keyPath,E))):(K=Gn(D,f.values[O]),(F=v.fire.call(V,K,E,D,_))&&(N=f.values[O],Object.keys(F).forEach(function(q){B(N,q)?N[q]=F[q]:L(N,q,F[q])}))),V});return r.mutate(f).then(function(E){for(var O=E.failures,K=E.results,F=E.numFailures,E=E.lastResult,N=0;N<b.length;++N){var D=(K||b)[N],V=P[N];D==null?V.onerror&&V.onerror(O[N]):V.onsuccess&&V.onsuccess(f.type==="put"&&C[N]?f.values[N]:D)}return{failures:O,results:K,numFailures:F,lastResult:E}}).catch(function(E){return P.forEach(function(O){return O.onerror&&O.onerror(E)}),Promise.reject(E)})})}}})}})}};function ra(e,t,r){try{if(!t||t.keys.length<e.length)return null;for(var o=[],a=0,s=0;a<t.keys.length&&s<e.length;++a)we(t.keys[a],e[s])===0&&(o.push(r?ie(t.values[a]):t.values[a]),++s);return o.length===e.length?o:null}catch{return null}}var Wi={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var r=e.table(t);return c(c({},r),{getMany:function(o){if(!o.cache)return r.getMany(o);var a=ra(o.keys,o.trans._cache,o.cache==="clone");return a?U.resolve(a):r.getMany(o).then(function(s){return o.trans._cache={keys:o.keys,values:o.cache==="clone"?ie(s):s},s})},mutate:function(o){return o.type!=="add"&&(o.trans._cache=null),r.mutate(o)}})}}}};function na(e,t){return e.trans.mode==="readonly"&&!!e.subscr&&!e.trans.explicit&&e.trans.db._options.cache!=="disabled"&&!t.schema.primaryKey.outbound}function oa(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Yi={stack:"dbcore",level:0,name:"Observability",create:function(e){var t=e.schema.name,r=new $e(e.MIN_KEY,e.MAX_KEY);return c(c({},e),{transaction:function(o,a,s){if(re.subscr&&a!=="readonly")throw new te.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(re.querier));return e.transaction(o,a,s)},table:function(o){var a=e.table(o),s=a.schema,u=s.primaryKey,f=s.indexes,d=u.extractKey,m=u.outbound,v=u.autoIncrement&&f.filter(function(g){return g.compound&&g.keyPath.includes(u.keyPath)}),x=c(c({},a),{mutate:function(g){function w(q){return q="idb://".concat(t,"/").concat(o,"/").concat(q),E[q]||(E[q]=new $e)}var _,b,C,P=g.trans,E=g.mutatedParts||(g.mutatedParts={}),O=w(""),K=w(":dels"),F=g.type,V=g.type==="deleteRange"?[g.range]:g.type==="delete"?[g.keys]:g.values.length<50?[Vn(u,g).filter(function(q){return q}),g.values]:[],N=V[0],D=V[1],V=g.trans._cache;return S(N)?(O.addKeys(N),(V=F==="delete"||N.length===D.length?ra(N,V):null)||K.addKeys(N),(V||D)&&(_=w,b=V,C=D,s.indexes.forEach(function(q){var Y=_(q.name||"");function pe(ye){return ye!=null?q.extractKey(ye):null}function ve(ye){return q.multiEntry&&S(ye)?ye.forEach(function(Je){return Y.addKey(Je)}):Y.addKey(ye)}(b||C).forEach(function(ye,Ue){var he=b&&pe(b[Ue]),Ue=C&&pe(C[Ue]);we(he,Ue)!==0&&(he!=null&&ve(he),Ue!=null&&ve(Ue))})}))):N?(D={from:(D=N.lower)!==null&&D!==void 0?D:e.MIN_KEY,to:(D=N.upper)!==null&&D!==void 0?D:e.MAX_KEY},K.add(D),O.add(D)):(O.add(r),K.add(r),s.indexes.forEach(function(q){return w(q.name).add(r)})),a.mutate(g).then(function(q){return!N||g.type!=="add"&&g.type!=="put"||(O.addKeys(q.results),v&&v.forEach(function(Y){for(var pe=g.values.map(function(he){return Y.extractKey(he)}),ve=Y.keyPath.findIndex(function(he){return he===u.keyPath}),ye=0,Je=q.results.length;ye<Je;++ye)pe[ye][ve]=q.results[ye];w(Y.name).addKeys(pe)})),P.mutatedParts=$r(P.mutatedParts||{},E),q})}}),f=function(w){var _=w.query,w=_.index,_=_.range;return[w,new $e((w=_.lower)!==null&&w!==void 0?w:e.MIN_KEY,(_=_.upper)!==null&&_!==void 0?_:e.MAX_KEY)]},k={get:function(g){return[u,new $e(g.key)]},getMany:function(g){return[u,new $e().addKeys(g.keys)]},count:f,query:f,openCursor:f};return y(k).forEach(function(g){x[g]=function(w){var _=re.subscr,b=!!_,C=na(re,a)&&oa(g,w)?w.obsSet={}:_;if(b){var P=function(D){return D="idb://".concat(t,"/").concat(o,"/").concat(D),C[D]||(C[D]=new $e)},E=P(""),O=P(":dels"),_=k[g](w),b=_[0],_=_[1];if((g==="query"&&b.isPrimaryKey&&!w.values?O:P(b.name||"")).add(_),!b.isPrimaryKey){if(g!=="count"){var K=g==="query"&&m&&w.values&&a.query(c(c({},w),{values:!1}));return a[g].apply(this,arguments).then(function(D){if(g==="query"){if(m&&w.values)return K.then(function(pe){return pe=pe.result,E.addKeys(pe),D});var V=w.values?D.result.map(d):D.result;(w.values?E:O).addKeys(V)}else if(g==="openCursor"){var q=D,Y=w.values;return q&&Object.create(q,{key:{get:function(){return O.addKey(q.primaryKey),q.key}},primaryKey:{get:function(){var pe=q.primaryKey;return O.addKey(pe),pe}},value:{get:function(){return Y&&E.addKey(q.primaryKey),q.value}}})}return D})}O.add(r)}}return a[g].apply(this,arguments)}}),x}})}};function aa(e,t,r){if(r.numFailures===0)return t;if(t.type==="deleteRange")return null;var o=t.keys?t.keys.length:"values"in t&&t.values?t.values.length:1;return r.numFailures===o?null:(t=c({},t),S(t.keys)&&(t.keys=t.keys.filter(function(a,s){return!(s in r.failures)})),"values"in t&&S(t.values)&&(t.values=t.values.filter(function(a,s){return!(s in r.failures)})),t)}function $n(e,t){return r=e,((o=t).lower===void 0||(o.lowerOpen?0<we(r,o.lower):0<=we(r,o.lower)))&&(e=e,(t=t).upper===void 0||(t.upperOpen?we(e,t.upper)<0:we(e,t.upper)<=0));var r,o}function ia(e,t,k,o,a,s){if(!k||k.length===0)return e;var u=t.query.index,d=u.multiEntry,m=t.query.range,v=o.schema.primaryKey.extractKey,x=u.extractKey,f=(u.lowLevelIndex||u).extractKey,k=k.reduce(function(g,w){var _=g,b=[];if(w.type==="add"||w.type==="put")for(var C=new $e,P=w.values.length-1;0<=P;--P){var E,O=w.values[P],K=v(O);C.hasKey(K)||(E=x(O),(d&&S(E)?E.some(function(q){return $n(q,m)}):$n(E,m))&&(C.addKey(K),b.push(O)))}switch(w.type){case"add":var F=new $e().addKeys(t.values?g.map(function(Y){return v(Y)}):g),_=g.concat(t.values?b.filter(function(Y){return Y=v(Y),!F.hasKey(Y)&&(F.addKey(Y),!0)}):b.map(function(Y){return v(Y)}).filter(function(Y){return!F.hasKey(Y)&&(F.addKey(Y),!0)}));break;case"put":var N=new $e().addKeys(w.values.map(function(Y){return v(Y)}));_=g.filter(function(Y){return!N.hasKey(t.values?v(Y):Y)}).concat(t.values?b:b.map(function(Y){return v(Y)}));break;case"delete":var D=new $e().addKeys(w.keys);_=g.filter(function(Y){return!D.hasKey(t.values?v(Y):Y)});break;case"deleteRange":var V=w.range;_=g.filter(function(Y){return!$n(v(Y),V)})}return _},e);return k===e?e:(k.sort(function(g,w){return we(f(g),f(w))||we(v(g),v(w))}),t.limit&&t.limit<1/0&&(k.length>t.limit?k.length=t.limit:e.length===t.limit&&k.length<t.limit&&(a.dirty=!0)),s?Object.freeze(k):k)}function sa(e,t){return we(e.lower,t.lower)===0&&we(e.upper,t.upper)===0&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function Hi(e,t){return function(r,o,a,s){if(r===void 0)return o!==void 0?-1:0;if(o===void 0)return 1;if((o=we(r,o))===0){if(a&&s)return 0;if(a)return 1;if(s)return-1}return o}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=function(r,o,a,s){if(r===void 0)return o!==void 0?1:0;if(o===void 0)return-1;if((o=we(r,o))===0){if(a&&s)return 0;if(a)return-1;if(s)return 1}return o}(e.upper,t.upper,e.upperOpen,t.upperOpen)}function Qi(e,t,r,o){e.subscribers.add(r),o.addEventListener("abort",function(){var a,s;e.subscribers.delete(r),e.subscribers.size===0&&(a=e,s=t,setTimeout(function(){a.subscribers.size===0&&T(s,a)},3e3))})}var Xi={stack:"dbcore",level:0,name:"Cache",create:function(e){var t=e.schema.name;return c(c({},e),{transaction:function(r,o,a){var s,u,d=e.transaction(r,o,a);return o==="readwrite"&&(u=(s=new AbortController).signal,a=function(m){return function(){if(s.abort(),o==="readwrite"){for(var v=new Set,x=0,f=r;x<f.length;x++){var k=f[x],g=Tt["idb://".concat(t,"/").concat(k)];if(g){var w=e.table(k),_=g.optimisticOps.filter(function(Y){return Y.trans===d});if(d._explicit&&m&&d.mutatedParts)for(var b=0,C=Object.values(g.queries.query);b<C.length;b++)for(var P=0,E=(F=C[b]).slice();P<E.length;P++)Dn((N=E[P]).obsSet,d.mutatedParts)&&(T(F,N),N.subscribers.forEach(function(Y){return v.add(Y)}));else if(0<_.length){g.optimisticOps=g.optimisticOps.filter(function(Y){return Y.trans!==d});for(var O=0,K=Object.values(g.queries.query);O<K.length;O++)for(var F,N,D,V=0,q=(F=K[O]).slice();V<q.length;V++)(N=q[V]).res!=null&&d.mutatedParts&&(m&&!N.dirty?(D=Object.isFrozen(N.res),D=ia(N.res,N.req,_,w,N,D),N.dirty?(T(F,N),N.subscribers.forEach(function(Y){return v.add(Y)})):D!==N.res&&(N.res=D,N.promise=U.resolve({result:D}))):(N.dirty&&T(F,N),N.subscribers.forEach(function(Y){return v.add(Y)})))}}}v.forEach(function(Y){return Y()})}}},d.addEventListener("abort",a(!1),{signal:u}),d.addEventListener("error",a(!1),{signal:u}),d.addEventListener("complete",a(!0),{signal:u})),d},table:function(r){var o=e.table(r),a=o.schema.primaryKey;return c(c({},o),{mutate:function(s){var u=re.trans;if(a.outbound||u.db._options.cache==="disabled"||u.explicit||u.idbtrans.mode!=="readwrite")return o.mutate(s);var d=Tt["idb://".concat(t,"/").concat(r)];return d?(u=o.mutate(s),s.type!=="add"&&s.type!=="put"||!(50<=s.values.length||Vn(a,s).some(function(m){return m==null}))?(d.optimisticOps.push(s),s.mutatedParts&&Ur(s.mutatedParts),u.then(function(m){0<m.numFailures&&(T(d.optimisticOps,s),(m=aa(0,s,m))&&d.optimisticOps.push(m),s.mutatedParts&&Ur(s.mutatedParts))}),u.catch(function(){T(d.optimisticOps,s),s.mutatedParts&&Ur(s.mutatedParts)})):u.then(function(m){var v=aa(0,c(c({},s),{values:s.values.map(function(x,f){var k;return m.failures[f]?x:(x=(k=a.keyPath)!==null&&k!==void 0&&k.includes(".")?ie(x):c({},x),L(x,a.keyPath,m.results[f]),x)})}),m);d.optimisticOps.push(v),queueMicrotask(function(){return s.mutatedParts&&Ur(s.mutatedParts)})}),u):o.mutate(s)},query:function(s){if(!na(re,o)||!oa("query",s))return o.query(s);var u=((v=re.trans)===null||v===void 0?void 0:v.db._options.cache)==="immutable",f=re,d=f.requery,m=f.signal,v=function(w,_,b,C){var P=Tt["idb://".concat(w,"/").concat(_)];if(!P)return[];if(!(_=P.queries[b]))return[null,!1,P,null];var E=_[(C.query?C.query.index.name:null)||""];if(!E)return[null,!1,P,null];switch(b){case"query":var O=E.find(function(K){return K.req.limit===C.limit&&K.req.values===C.values&&sa(K.req.query.range,C.query.range)});return O?[O,!0,P,E]:[E.find(function(K){return("limit"in K.req?K.req.limit:1/0)>=C.limit&&(!C.values||K.req.values)&&Hi(K.req.query.range,C.query.range)}),!1,P,E];case"count":return O=E.find(function(K){return sa(K.req.query.range,C.query.range)}),[O,!!O,P,E]}}(t,r,"query",s),x=v[0],f=v[1],k=v[2],g=v[3];return x&&f?x.obsSet=s.obsSet:(f=o.query(s).then(function(w){var _=w.result;if(x&&(x.res=_),u){for(var b=0,C=_.length;b<C;++b)Object.freeze(_[b]);Object.freeze(_)}else w.result=ie(_);return w}).catch(function(w){return g&&x&&T(g,x),Promise.reject(w)}),x={obsSet:s.obsSet,promise:f,subscribers:new Set,type:"query",req:s,dirty:!1},g?g.push(x):(g=[x],(k=k||(Tt["idb://".concat(t,"/").concat(r)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[s.query.index.name||""]=g)),Qi(x,g,d,m),x.promise.then(function(w){return{result:ia(w.result,s,k?.optimisticOps,o,x,u)}})}})}})}};function Yr(e,t){return new Proxy(e,{get:function(r,o,a){return o==="db"?t:Reflect.get(r,o,a)}})}var it=(je.prototype.version=function(e){if(isNaN(e)||e<.1)throw new te.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new te.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,r=t.filter(function(o){return o._cfg.version===e})[0];return r||(r=new this.Version(e),t.push(r),t.sort(qi),r.stores({}),this._state.autoSchema=!1,r)},je.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||re.letThrough||this._vip)?e():new U(function(r,o){if(t._state.openComplete)return o(new te.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void o(new te.DatabaseClosed);t.open().catch(_e)}t._state.dbReadyPromise.then(r,o)}).then(e)},je.prototype.use=function(e){var t=e.stack,r=e.create,o=e.level,a=e.name;return a&&this.unuse({stack:t,name:a}),e=this._middlewares[t]||(this._middlewares[t]=[]),e.push({stack:t,create:r,level:o??10,name:a}),e.sort(function(s,u){return s.level-u.level}),this},je.prototype.unuse=function(e){var t=e.stack,r=e.name,o=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(a){return o?a.create!==o:!!r&&a.name!==r})),this},je.prototype.open=function(){var e=this;return Ot(ht,function(){return Vi(e)})},je.prototype._close=function(){var e=this._state,t=Gt.indexOf(this);if(0<=t&&Gt.splice(t,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new U(function(r){e.dbReadyResolve=r}),e.openCanceller=new U(function(r,o){e.cancelOpen=o}))},je.prototype.close=function(r){var t=(r===void 0?{disableAutoOpen:!0}:r).disableAutoOpen,r=this._state;t?(r.isBeingOpened&&r.cancelOpen(new te.DatabaseClosed),this._close(),r.autoOpen=!1,r.dbOpenError=new te.DatabaseClosed):(this._close(),r.autoOpen=this._options.autoOpen||r.isBeingOpened,r.openComplete=!1,r.dbOpenError=null)},je.prototype.delete=function(e){var t=this;e===void 0&&(e={disableAutoOpen:!0});var r=0<arguments.length&&typeof arguments[0]!="object",o=this._state;return new U(function(a,s){function u(){t.close(e);var d=t._deps.indexedDB.deleteDatabase(t.name);d.onsuccess=Me(function(){var m,v,x;m=t._deps,v=t.name,x=m.indexedDB,m=m.IDBKeyRange,Kn(x)||v===Rr||jn(x,m).delete(v).catch(_e),a()}),d.onerror=rt(s),d.onblocked=t._fireOnBlocked}if(r)throw new te.InvalidArgument("Invalid closeOptions argument to db.delete()");o.isBeingOpened?o.dbReadyPromise.then(u):u()})},je.prototype.backendDB=function(){return this.idbdb},je.prototype.isOpen=function(){return this.idbdb!==null},je.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},je.prototype.hasFailed=function(){return this._state.dbOpenError!==null},je.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(je.prototype,"tables",{get:function(){var e=this;return y(this._allTables).map(function(t){return e._allTables[t]})},enumerable:!1,configurable:!0}),je.prototype.transaction=function(){var e=(function(t,r,o){var a=arguments.length;if(a<2)throw new te.InvalidArgument("Too few arguments");for(var s=new Array(a-1);--a;)s[a-1]=arguments[a];return o=s.pop(),[t,Le(s),o]}).apply(this,arguments);return this._transaction.apply(this,e)},je.prototype._transaction=function(e,t,r){var o=this,a=re.trans;a&&a.db===this&&e.indexOf("!")===-1||(a=null);var s,u,d=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");try{if(u=t.map(function(v){if(v=v instanceof o.Table?v.name:v,typeof v!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return v}),e=="r"||e===_n)s=_n;else{if(e!="rw"&&e!=kn)throw new te.InvalidArgument("Invalid transaction mode: "+e);s=kn}if(a){if(a.mode===_n&&s===kn){if(!d)throw new te.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");a=null}a&&u.forEach(function(v){if(a&&a.storeNames.indexOf(v)===-1){if(!d)throw new te.SubTransaction("Table "+v+" not included in parent transaction.");a=null}}),d&&a&&!a.active&&(a=null)}}catch(v){return a?a._promise(null,function(x,f){f(v)}):Re(v)}var m=(function v(x,f,k,g,w){return U.resolve().then(function(){var _=re.transless||re,b=x._createTransaction(f,k,x._dbSchema,g);if(b.explicit=!0,_={trans:b,transless:_},g)b.idbtrans=g.idbtrans;else try{b.create(),b.idbtrans._explicit=!0,x._state.PR1398_maxLoop=3}catch(E){return E.name===Ae.InvalidState&&x.isOpen()&&0<--x._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),x.close({disableAutoOpen:!1}),x.open().then(function(){return v(x,f,k,null,w)})):Re(E)}var C,P=Ge(w);return P&&Lt(),_=U.follow(function(){var E;(C=w.call(b,b))&&(P?(E=mt.bind(null,null),C.then(E,E)):typeof C.next=="function"&&typeof C.throw=="function"&&(C=Ln(C)))},_),(C&&typeof C.then=="function"?U.resolve(C).then(function(E){return b.active?E:Re(new te.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):_.then(function(){return C})).then(function(E){return g&&b._resolve(),b._completion.then(function(){return E})}).catch(function(E){return b._reject(E),Re(E)})})}).bind(null,this,s,u,a,r);return a?a._promise(s,m,"lock"):re.trans?Ot(re.transless,function(){return o._whenReady(m)}):this._whenReady(m)},je.prototype.table=function(e){if(!B(this._allTables,e))throw new te.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},je);function je(e,t){var r=this;this._middlewares={},this.verno=0;var o=je.dependencies;this._options=t=c({addons:je.addons,autoOpen:!0,indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange,cache:"cloned"},t),this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange},o=t.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var a,s,u,d,m,v={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:_e,dbReadyPromise:null,cancelOpen:_e,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:t.autoOpen};v.dbReadyPromise=new U(function(f){v.dbReadyResolve=f}),v.openCanceller=new U(function(f,k){v.cancelOpen=k}),this._state=v,this.name=e,this.on=sr(this,"populate","blocked","versionchange","close",{ready:[hn,_e]}),this.on.ready.subscribe=se(this.on.ready.subscribe,function(f){return function(k,g){je.vip(function(){var w,_=r._state;_.openComplete?(_.dbOpenError||U.resolve().then(k),g&&f(k)):_.onReadyBeingFired?(_.onReadyBeingFired.push(k),g&&f(k)):(f(k),w=r,g||f(function b(){w.on.ready.unsubscribe(k),w.on.ready.unsubscribe(b)}))})}}),this.Collection=(a=this,lr(Ri.prototype,function(C,b){this.db=a;var g=Do,w=null;if(b)try{g=b()}catch(P){w=P}var _=C._ctx,b=_.table,C=b.hook.reading.fire;this._ctx={table:b,index:_.index,isPrimKey:!_.index||b.schema.primKey.keyPath&&_.index===b.schema.primKey.name,range:g,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:w,or:_.or,valueMapper:C!==rr?C:null}})),this.Table=(s=this,lr(Lo.prototype,function(f,k,g){this.db=s,this._tx=g,this.name=f,this.schema=k,this.hook=s._allTables[f]?s._allTables[f].hook:sr(null,{creating:[Ci,_e],reading:[ki,rr],updating:[Si,_e],deleting:[Ai,_e]})})),this.Transaction=(u=this,lr(Ni.prototype,function(f,k,g,w,_){var b=this;this.db=u,this.mode=f,this.storeNames=k,this.schema=g,this.chromeTransactionDurability=w,this.idbtrans=null,this.on=sr(this,"complete","error","abort"),this.parent=_||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new U(function(C,P){b._resolve=C,b._reject=P}),this._completion.then(function(){b.active=!1,b.on.complete.fire()},function(C){var P=b.active;return b.active=!1,b.on.error.fire(C),b.parent?b.parent._reject(C):P&&b.idbtrans&&b.idbtrans.abort(),Re(C)})})),this.Version=(d=this,lr(Gi.prototype,function(f){this.db=d,this._cfg={version:f,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(m=this,lr(Wo.prototype,function(f,k,g){if(this.db=m,this._ctx={table:f,index:k===":id"?null:k,or:g},this._cmp=this._ascending=we,this._descending=function(w,_){return we(_,w)},this._max=function(w,_){return 0<we(w,_)?w:_},this._min=function(w,_){return we(w,_)<0?w:_},this._IDBKeyRange=m._deps.IDBKeyRange,!this._IDBKeyRange)throw new te.MissingAPI})),this.on("versionchange",function(f){0<f.newVersion?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close({disableAutoOpen:!1})}),this.on("blocked",function(f){!f.newVersion||f.newVersion<f.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(f.oldVersion/10))}),this._maxKey=fr(t.IDBKeyRange),this._createTransaction=function(f,k,g,w){return new r.Transaction(f,k,g,r._options.chromeTransactionDurability,w)},this._fireOnBlocked=function(f){r.on("blocked").fire(f),Gt.filter(function(k){return k.name===r.name&&k!==r&&!k._state.vcFired}).map(function(k){return k.on("versionchange").fire(f)})},this.use(Wi),this.use(Xi),this.use(Yi),this.use($i),this.use(Ui);var x=new Proxy(this,{get:function(f,k,g){if(k==="_vip")return!0;if(k==="table")return function(_){return Yr(r.table(_),x)};var w=Reflect.get(f,k,g);return w instanceof Lo?Yr(w,x):k==="tables"?w.map(function(_){return Yr(_,x)}):k==="_createTransaction"?function(){return Yr(w.apply(this,arguments),x)}:w}});this.vip=x,o.forEach(function(f){return f(r)})}var Hr,Ze=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ji=(Un.prototype.subscribe=function(e,t,r){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:t,complete:r})},Un.prototype[Ze]=function(){return this},Un);function Un(e){this._subscribe=e}try{Hr={indexedDB:h.indexedDB||h.mozIndexedDB||h.webkitIndexedDB||h.msIndexedDB,IDBKeyRange:h.IDBKeyRange||h.webkitIDBKeyRange}}catch{Hr={indexedDB:null,IDBKeyRange:null}}function la(e){var t,r=!1,o=new Ji(function(a){var s=Ge(e),u,d=!1,m={},v={},x={get closed(){return d},unsubscribe:function(){d||(d=!0,u&&u.abort(),f&&yt.storagemutated.unsubscribe(g))}};a.start&&a.start(x);var f=!1,k=function(){return xn(w)},g=function(_){$r(m,_),Dn(v,m)&&k()},w=function(){var _,b,C;!d&&Hr.indexedDB&&(m={},_={},u&&u.abort(),u=new AbortController,C=function(P){var E=qt();try{s&&Lt();var O=pt(e,P);return O=s?O.finally(mt):O}finally{E&&Ft()}}(b={subscr:_,signal:u.signal,requery:k,querier:e,trans:null}),Promise.resolve(C).then(function(P){r=!0,t=P,d||b.signal.aborted||(m={},function(E){for(var O in E)if(B(E,O))return;return 1}(v=_)||f||(yt(dr,g),f=!0),xn(function(){return!d&&a.next&&a.next(P)}))},function(P){r=!1,["DatabaseClosedError","AbortError"].includes(P?.name)||d||xn(function(){d||a.error&&a.error(P)})}))};return setTimeout(k,0),x});return o.hasValue=function(){return r},o.getValue=function(){return t},o}var Rt=it;function Wn(e){var t=bt;try{bt=!0,yt.storagemutated.fire(e),Fn(e,!0)}finally{bt=t}}G(Rt,c(c({},ft),{delete:function(e){return new Rt(e,{addons:[]}).delete()},exists:function(e){return new Rt(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return t=Rt.dependencies,r=t.indexedDB,t=t.IDBKeyRange,(Kn(r)?Promise.resolve(r.databases()).then(function(o){return o.map(function(a){return a.name}).filter(function(a){return a!==Rr})}):jn(r,t).toCollection().primaryKeys()).then(e)}catch{return Re(new te.MissingAPI)}var t,r},defineClass:function(){return function(e){A(this,e)}},ignoreTransaction:function(e){return re.trans?Ot(re.transless,e):e()},vip:Nn,async:function(e){return function(){try{var t=Ln(e.apply(this,arguments));return t&&typeof t.then=="function"?t:U.resolve(t)}catch(r){return Re(r)}}},spawn:function(e,t,r){try{var o=Ln(e.apply(r,t||[]));return o&&typeof o.then=="function"?o:U.resolve(o)}catch(a){return Re(a)}},currentTransaction:{get:function(){return re.trans||null}},waitFor:function(e,t){return t=U.resolve(typeof e=="function"?Rt.ignoreTransaction(e):e).timeout(t||6e4),re.trans?re.trans.waitFor(t):t},Promise:U,debug:{get:function(){return tt},set:function(e){Io(e)}},derive:j,extend:A,props:G,override:se,Events:sr,on:yt,liveQuery:la,extendObservabilitySet:$r,getByKeyPath:M,setByKeyPath:L,delByKeyPath:function(e,t){typeof t=="string"?L(e,t,void 0):"length"in t&&[].map.call(t,function(r){L(e,r,void 0)})},shallowClone:W,deepClone:ie,getObjectDiff:Gn,cmp:we,asap:de,minKey:-1/0,addons:[],connections:Gt,errnames:Ae,dependencies:Hr,cache:Tt,semVer:"4.0.11",version:"4.0.11".split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,r){return e+t/Math.pow(10,2*r)})})),Rt.maxKey=fr(Rt.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(yt(dr,function(e){bt||(e=new CustomEvent(Pn,{detail:e}),bt=!0,dispatchEvent(e),bt=!1)}),addEventListener(Pn,function(e){e=e.detail,bt||Wn(e)}));var Ut,bt=!1,ca=function(){};return typeof BroadcastChannel<"u"&&((ca=function(){(Ut=new BroadcastChannel(Pn)).onmessage=function(e){return e.data&&Wn(e.data)}})(),typeof Ut.unref=="function"&&Ut.unref(),yt(dr,function(e){bt||Ut.postMessage(e)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(e){if(!it.disableBfCache&&e.persisted){tt&&console.debug("Dexie: handling persisted pagehide"),Ut?.close();for(var t=0,r=Gt;t<r.length;t++)r[t].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!it.disableBfCache&&e.persisted&&(tt&&console.debug("Dexie: handling persisted pageshow"),ca(),Wn({all:new $e(-1/0,[[]])}))})),U.rejectionMapper=function(e,t){return!e||e instanceof Ce||e instanceof TypeError||e instanceof SyntaxError||!e.name||!kt[e.name]?e:(t=new kt[e.name](t||e.message,e),"stack"in e&&R(t,"stack",{get:function(){return this.inner.stack}}),t)},Io(tt),c(it,Object.freeze({__proto__:null,Dexie:it,liveQuery:la,Entity:Bo,cmp:we,PropModification:cr,replacePrefix:function(e,t){return new cr({replacePrefix:[e,t]})},add:function(e){return new cr({add:e})},remove:function(e){return new cr({remove:e})},default:it,RangeSet:$e,mergeRanges:mr,rangesOverlap:Jo}),{default:it}),it})}(rn)),rn.exports}var Rc=Tc();const _o=rl(Rc),Ta=Symbol.for("Dexie"),cn=globalThis[Ta]||(globalThis[Ta]=_o);if(_o.semVer!==cn.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_o.semVer} and ${cn.semVer}`);const{liveQuery:Wc,mergeRanges:Yc,rangesOverlap:Hc,RangeSet:Qc,cmp:Xc,Entity:Jc,PropModification:Zc,replacePrefix:eu,add:tu,remove:ru}=cn;class jc extends cn{chats;messages;settings;constructor(){super("LlamaCppChatDB"),this.version(1).stores({chats:"id, name, createdAt, updatedAt, messageCount",messages:"id, chatId, role, timestamp, [chatId+timestamp]",settings:"id"})}}const Se=new jc;class lt{static async createChat(i,l){const c={id:crypto.randomUUID(),name:i,createdAt:Date.now(),updatedAt:Date.now(),messageCount:0,systemPrompt:l};return await Se.chats.add(c),c}static async getChat(i){return await Se.chats.get(i)}static async getAllChats(){return await Se.chats.orderBy("updatedAt").reverse().toArray()}static async updateChat(i,l){await Se.chats.update(i,{...l,updatedAt:Date.now()})}static async deleteChat(i){await Se.transaction("rw",[Se.chats,Se.messages],async()=>{await Se.chats.delete(i),await Se.messages.where("chatId").equals(i).delete()})}static async addMessage(i){const l={...i,id:crypto.randomUUID()};return await Se.transaction("rw",[Se.messages,Se.chats],async()=>{await Se.messages.add(l);const c=await Se.messages.where("chatId").equals(i.chatId).count();await Se.chats.update(i.chatId,{messageCount:c,updatedAt:Date.now()})}),l}static async getChatMessages(i){return await Se.messages.where("chatId").equals(i).sortBy("timestamp")}static async updateMessage(i,l){await Se.messages.update(i,l)}static async deleteMessage(i){const l=await Se.messages.get(i);l&&await Se.transaction("rw",[Se.messages,Se.chats],async()=>{await Se.messages.delete(i);const c=await Se.messages.where("chatId").equals(l.chatId).count();await Se.chats.update(l.chatId,{messageCount:c,updatedAt:Date.now()})})}static async getSettings(){let i=await Se.settings.get("default");return i||(i={id:"default",theme:"system",model:"llama-3.2-3b-instruct",temperature:.7,maxTokens:2048,topP:.9,topK:40,repeatPenalty:1.1,seed:-1,systemPrompt:"You are a helpful AI assistant."},await Se.settings.add(i)),i}static async updateSettings(i){await Se.settings.update("default",i)}}class _i{static baseUrl="http://localhost:8080";static async sendChatCompletion(i,l,c,p){try{const y={messages:i.map(B=>({role:B.role,content:B.content})),stream:!0,temperature:.7,max_tokens:2048};console.log("Sending chat completion request:",y);const S=await fetch(`${this.baseUrl}/v1/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"text/event-stream"},body:JSON.stringify(y)});if(!S.ok)throw new Error(`HTTP ${S.status}: ${S.statusText}`);if(!S.body)throw new Error("No response body received");const A=S.body.getReader(),I=new TextDecoder;let z="";try{for(;;){const{done:B,value:G}=await A.read();if(B)break;const R=I.decode(G,{stream:!0}).split(`
`).filter(j=>j.trim());for(const j of R)if(j.startsWith("data: ")){const Z=j.slice(6).trim();if(Z==="[DONE]")return c?.(),z;try{const ne=JSON.parse(Z).choices[0]?.delta?.content;ne&&(z+=ne,l?.(ne))}catch(oe){console.warn("Failed to parse SSE data:",Z,oe)}}}}finally{A.releaseLock()}return c?.(),z}catch(h){throw console.error("Chat completion error:",h),p?.(h),h}}static async getServerProps(){try{const i=await fetch(`${this.baseUrl}/props`,{headers:{"Content-Type":"application/json"}});if(!i.ok)throw new Error(`Failed to fetch server props: ${i.status}`);return await i.json()}catch(i){throw console.error("Error fetching server props:",i),i}}}class Kc{#e=ut(pa([]));get chats(){return He(this.#e)}set chats(i){dt(this.#e,i,!0)}#t=ut(null);get activeChat(){return He(this.#t)}set activeChat(i){dt(this.#t,i,!0)}#r=ut(pa([]));get activeChatMessages(){return He(this.#r)}set activeChatMessages(i){dt(this.#r,i,!0)}#n=ut(!1);get isLoading(){return He(this.#n)}set isLoading(i){dt(this.#n,i,!0)}#o=ut("");get currentResponse(){return He(this.#o)}set currentResponse(i){dt(this.#o,i,!0)}#a=ut(!1);get isInitialized(){return He(this.#a)}set isInitialized(i){dt(this.#a,i,!0)}constructor(){this.initialize()}async initialize(){try{await this.loadChats(),this.isInitialized=!0}catch(i){console.error("Failed to initialize chat store:",i)}}async loadChats(){this.chats=await lt.getAllChats()}async createChat(i,l){const c=i||`Chat ${new Date().toLocaleString()}`;console.log("Creating new chat:",c);const p=await lt.createChat(c,l);return console.log("Chat created in database:",p),this.chats.unshift(p),this.activeChat=p,this.activeChatMessages=[],console.log("Set as active chat, messages cleared"),await ma(`/chat/${p.id}`),console.log("Navigated to chat:",p.id),p.id}async loadChat(i){try{const l=await lt.getChat(i);return l?(this.activeChat=l,this.activeChatMessages=await lt.getChatMessages(i),!0):!1}catch(l){return console.error("Failed to load chat:",l),!1}}async addMessage(i,l){if(!this.activeChat)return console.error("No active chat when trying to add message"),null;console.log("Adding message:",{role:i,content:l,chatId:this.activeChat.id});try{const c=await lt.addMessage({chatId:this.activeChat.id,role:i,content:l,timestamp:Date.now()});console.log("Message added to database:",c),this.activeChatMessages.push(c),console.log("Current activeChatMessages count:",this.activeChatMessages.length);const p=this.chats.findIndex(h=>h.id===this.activeChat.id);if(p!==-1){this.chats[p].messageCount+=1,this.chats[p].updatedAt=Date.now();const h=this.chats.splice(p,1)[0];this.chats.unshift(h),console.log("Updated chat in local state")}return c}catch(c){return console.error("Failed to add message:",c),null}}async sendMessage(i){if(!(!i.trim()||this.isLoading)){if(console.log("Sending message:",i),console.log("Current active chat:",this.activeChat?.id),this.activeChat||(console.log("No active chat, creating new one..."),await this.createChat()),!this.activeChat){console.error("No active chat available for sending message");return}console.log("Active chat confirmed:",this.activeChat.id),this.isLoading=!0,this.currentResponse="";try{if(console.log("Adding user message..."),!await this.addMessage("user",i))throw new Error("Failed to add user message");console.log("User message added successfully");const c=await lt.getChatMessages(this.activeChat.id);console.log("Sending",c.length,"messages to API");const p=await this.addMessage("assistant","");if(!p)throw new Error("Failed to create assistant message");let h="";await _i.sendChatCompletion(c,y=>{h+=y,this.currentResponse=h;const S=this.activeChatMessages.findIndex(A=>A.id===p.id);S!==-1&&(this.activeChatMessages[S].content=h)},async()=>{console.log("Streaming complete, final content length:",h.length),await lt.updateMessage(p.id,{content:h}),this.isLoading=!1,this.currentResponse="",console.log("AI response completed and saved")},y=>{console.error("Streaming error:",y),this.isLoading=!1,this.currentResponse="";const S=this.activeChatMessages.findIndex(A=>A.id===p.id);S!==-1&&(this.activeChatMessages[S].content=`Error: ${y.message}`)})}catch(l){console.error("Failed to send message:",l),this.isLoading=!1}}}stopGeneration(){this.isLoading=!1,this.currentResponse="",console.log("Generation stopped")}async updateChatName(i,l){try{await lt.updateChat(i,{name:l});const c=this.chats.findIndex(p=>p.id===i);c!==-1&&(this.chats[c].name=l),this.activeChat?.id===i&&(this.activeChat.name=l)}catch(c){console.error("Failed to update chat name:",c)}}async deleteChat(i){try{await lt.deleteChat(i),this.chats=this.chats.filter(l=>l.id!==i),this.activeChat?.id===i&&(this.activeChat=null,this.activeChatMessages=[],await ma("/"))}catch(l){console.error("Failed to delete chat:",l)}}clearActiveChat(){this.activeChat=null,this.activeChatMessages=[],this.currentResponse="",this.isLoading=!1}}const Fe=new Kc,nu=()=>Fe.chats,ou=()=>Fe.activeChat,au=()=>Fe.activeChatMessages,iu=()=>Fe.isLoading,su=()=>Fe.isInitialized;Fe.createChat.bind(Fe);Fe.loadChat.bind(Fe);const lu=Fe.sendMessage.bind(Fe);Fe.updateChatName.bind(Fe);const cu=Fe.deleteChat.bind(Fe);Fe.clearActiveChat.bind(Fe);function uu(){Fe.stopGeneration()}class Nc{#e=ut(null);get _serverProps(){return He(this.#e)}set _serverProps(i){dt(this.#e,i,!0)}#t=ut(!1);get _loading(){return He(this.#t)}set _loading(i){dt(this.#t,i,!0)}#r=ut(null);get _error(){return He(this.#r)}set _error(i){dt(this.#r,i,!0)}get serverProps(){return this._serverProps}get loading(){return this._loading}get error(){return this._error}get modelName(){return this._serverProps?.model_path&&this._serverProps.model_path.split(/(\\|\/)/).pop()||null}get supportedModalities(){const i=[];return this._serverProps?.modalities?.audio&&i.push("audio"),this._serverProps?.modalities?.vision&&i.push("vision"),i}get supportsVision(){return this._serverProps?.modalities?.vision??!1}get supportsAudio(){return this._serverProps?.modalities?.audio??!1}async fetchServerProps(){this._loading=!0,this._error=null;try{console.log("Fetching server properties...");const i=await _i.getServerProps();this._serverProps=i,console.log("Server properties loaded:",i)}catch(i){const l=i instanceof Error?i.message:"Failed to fetch server properties";this._error=l,console.error("Error fetching server properties:",i)}finally{this._loading=!1}}clear(){this._serverProps=null,this._error=null,this._loading=!1}}const du=new Nc;export{Vc as B,$c as I,_r as a,mo as b,Fe as c,Ls as d,Vs as e,Lc as f,du as g,Uc as h,su as i,ou as j,au as k,iu as l,uu as m,lu as n,ln as o,xi as p,Ws as q,Fc as r,Qs as s,nu as t,cu as u,rl as v,Gc as w,Ua as x};
